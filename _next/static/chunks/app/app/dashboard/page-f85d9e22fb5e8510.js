(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3166],{60797:function(e,s,i){Promise.resolve().then(i.bind(i,34816))},29806:function(e,s,i){"use strict";var t,a,l,n;i.d(s,{h:function(){return t}}),(l=t||(t={})).InitiateDubaiSurvey="InitiateDubaiSurvey",l.InitiateEasyImportOnboarding="InitiateEasyImportOnboarding",l.InitiateFromPriorities="InitiateFromPriorities",(n=a||(a={})).login="LOGIN",n.register="REGISTER"},34816:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return iA}});var t,a,l,n,r,o,c=i(57437),d=i(2265),m=i(37893),p=i(87475),u=i(57099),h=i(24076),v=i(27555),x=i(27648),j=i(33145),g=i(49567),N=i(99376),f=i(60097),y=i(11509),b=i(41160),w=i(42993),k=i(64374),C=i(68582),S=i(82259),P=i(61335),A=JSON.parse('[{"value":"Newest","label":"Newest"},{"value":"Prop-AI Score","label":"Prop-AI Score"},{"value":"ROI","label":"ROI"},{"value":"Rental Yield","label":"Rental Yield"},{"value":"Price (Low-High)","label":"Price (Low-High)"},{"value":"Price (High-Low)","label":"Price (High-Low)"}]'),I=i(97461),M=i(46496),D=i(55238);i(69778);let _=()=>(0,c.jsx)(D.Wo,{value:66,styles:{path:{stroke:"#aaa"},trail:{stroke:"#ddd"}},children:(0,c.jsx)("div",{children:(0,c.jsx)("div",{className:"row g-0",children:(0,c.jsx)("div",{className:"col",children:(0,c.jsx)("div",{className:"placeholder w-100 py-2 px-3"})})})})});var E=()=>(0,c.jsxs)("div",{className:"property-skeleton-card placeholder-wave",children:[(0,c.jsx)("div",{className:"skeleton-card__image",children:(0,c.jsx)("div",{className:"placeholder w-100 h-100"})}),(0,c.jsxs)("div",{className:"skeleton-card__content px-3",children:[(0,c.jsxs)("div",{className:"row g-0",children:[(0,c.jsx)("div",{className:"col-7 pt-3 pe-3",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col-12",children:[(0,c.jsx)("div",{className:"placeholder w-100 d-block"}),(0,c.jsxs)("div",{className:"row mt-2",children:[(0,c.jsx)("div",{className:"col-3",children:(0,c.jsx)("div",{className:"placeholder w-100"})}),(0,c.jsx)("div",{className:"col-3 px-0",children:(0,c.jsx)("div",{className:"placeholder w-100"})}),(0,c.jsx)("div",{className:"col-5",children:(0,c.jsx)("div",{className:"placeholder w-100"})})]})]})})}),(0,c.jsx)("div",{className:"col-5 pt-3 ps-3",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-5 offset-7",children:(0,c.jsx)(_,{})}),(0,c.jsx)("div",{className:"col-12 text-end mt-2",children:(0,c.jsx)("span",{className:"placeholder w-50"})})]})})]}),(0,c.jsx)("div",{className:"row mt-2 mb-3",children:(0,c.jsx)("div",{className:"col-9",children:(0,c.jsx)("div",{className:"row",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,c.jsx)("div",{className:"col",children:(0,c.jsx)("div",{className:"placeholder pt-4 w-100"})},s))})})}),(0,c.jsxs)("div",{className:"row g-0",children:[(0,c.jsxs)("div",{className:"col-7 pb-3 pe-3",children:[(0,c.jsx)("div",{className:"row",children:[void 0,void 0,void 0].map((e,s)=>(0,c.jsxs)(d.Fragment,{children:[(0,c.jsx)("div",{className:"col-6 mb-2",children:(0,c.jsx)("div",{className:"placeholder ".concat(s%2?"w-75":"w-50")})}),(0,c.jsx)("div",{className:"col-6 mb-2 text-end",children:(0,c.jsx)("div",{className:"placeholder ".concat(s%2?"w-25":"w-50")})})]},s))}),(0,c.jsxs)("div",{className:"row mt-2",children:[(0,c.jsx)("div",{className:"col-5 text-primary",children:(0,c.jsx)("div",{className:"placeholder placeholder-sm w-100"})}),(0,c.jsx)("div",{className:"col-5 offset-1 text-primary",children:(0,c.jsx)("div",{className:"placeholder placeholder-sm w-100"})})]})]}),(0,c.jsx)("div",{className:"col-5 py-3 ps-3",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col-12 text-end",children:[(0,c.jsx)("div",{className:"my-3",children:(0,c.jsx)("span",{className:"placeholder w-75 pt-3"})}),(0,c.jsx)("div",{className:"pt-3",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-10 offset-2",children:(0,c.jsx)("div",{className:"placeholder btn btn-primary d-block disabled btn-sm"})})})})]})})})]})]})]}),T=i(31908);i(72763);var F=e=>{let{onRefresh:s}=e,[i,t]=d.useState(!1);return(0,c.jsxs)("div",{className:"d-flex flex-column align-items-center p-3 loading-card",children:[(0,c.jsx)("div",{className:"w-50",children:(0,c.jsx)("div",{className:"loading-animation-wrapper",children:(0,c.jsx)(j.default,{src:"/animated/loading-dots.gif",fill:!0,alt:"Loading..."})})}),(0,c.jsx)("span",{className:"fs-4 fw-medium",children:"Loading properties.."}),(0,c.jsxs)("span",{className:"text-center mt-3 w-75 loading-description",children:["Our AI copilot is compiling your top properties. Once loaded, click",(0,c.jsx)("span",{className:"fw-bold",children:" Shortlist"})," for favorites and",(0,c.jsx)("span",{className:"fw-bold",children:" Not interested"}),' to remove properties. Your feedback helps our AI to learn as it keeps finding new options for you. It won"t rest until it finds THE ONE.']}),(0,c.jsx)("div",{className:"d-flex justify-content-center mt-3 mb-2",children:(0,c.jsx)(h.Z,{type:"button",variant:"outline-primary",disabled:i,onClick:()=>{t(!0),s&&s()},children:i?(0,c.jsxs)(c.Fragment,{children:["Refresh again in:\xa0",(0,c.jsx)(T.Z,{onEnd:()=>{t(!1)},seconds:30,className:"d-inline-block"})]}):"Refresh properties list"})})]})},R=i(60768),L=i(60977);i(11396);var O=e=>{let{values:s,interval:i=1e3,children:t}=e,[a,l]=d.useState(0);return d.useEffect(()=>{let e=setInterval(()=>{l(e=>(e+1)%s.length)},i);return()=>clearInterval(e)},[s,i]),(0,c.jsx)(c.Fragment,{children:t(s[a])})},W=i(41317),z=e=>{var s,i;let t,{propertyDetails:a}=e,{area:l,country_name:n,city_name:r,asking_price:o,asking_price_currency:d,property_type:m,bedrooms_total:p,total_area_sqm:u,total_area_sqft:h,city_region:v,property_mortgage_value:x,building:j}=a,g=["Dubai","Abu Dhabi"].includes(r),N=(0,W.pU)(a),f=(o/(g?h:u)).toLocaleString("en-US",{maximumFractionDigits:0});return(0,c.jsxs)("div",{className:"d-flex property-loading-card",children:[(0,c.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center loading-image-wrapper",children:[(0,c.jsx)(P.J,{icon:"/icons/light.svg",size:45}),(0,c.jsx)("span",{className:"loading-image-title",children:"Loading..."})]}),(0,c.jsxs)("div",{className:"d-flex flex-column property-details-content-section",children:[(0,c.jsxs)("div",{className:"row g-0 px-3 pt-3",children:[(0,c.jsxs)("div",{className:"col-9",children:[(0,c.jsxs)("div",{className:"d-flex flex-column gap-1 content-section-1",children:[(0,c.jsx)("span",{className:"fw-bold property-name-span text-truncate",children:N}),(0,c.jsxs)("div",{className:"d-flex gap-1",children:[(0,c.jsx)("div",{className:"d-flex gap-2",children:(0,c.jsx)(L.W,{countryName:n,hideName:!0})}),(0,c.jsx)("span",{className:"area-name-en",children:(t=[r,l,j].filter(Boolean).join(", ")).length>40?t.substring(0,40)+"...":t})]})]}),(0,c.jsx)("div",{className:"d-flex justify-content-between mt-3 content-section-2",children:(0,c.jsxs)("div",{className:"d-flex flex-wrap justify-content-between align-items-center gap-2",children:[(0,c.jsx)("span",{className:"property-details-section-2-titles",children:m}),"|",v&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"property-details-section-2-titles",children:v}),"|"]}),(0,c.jsx)("span",{className:"property-details-section-2-titles",children:p?"".concat(p," Bedrooms"):"Studio"}),"|",(0,c.jsx)("span",{className:"property-details-section-2-titles",children:g?"".concat(h?"".concat(h," Sqft"):"N/A"):"".concat(u?"".concat(u," sqm"):"N/A")})]})})]}),"Dubai"===r&&(0,c.jsx)("div",{className:"col-3",children:(0,c.jsx)("div",{className:"circular-progressbar-wrapper",children:(0,c.jsxs)("div",{className:"d-flex flex-column",children:[(0,c.jsx)("div",{className:"align-self-end w-50 flex-shrink-0",role:"button",children:(0,c.jsx)(O,{values:[0,25,50,75,100],children:e=>(0,c.jsx)(D.Wo,{value:e,children:(0,c.jsx)("span",{className:"slider-loading-text",children:"loading..."})})})}),(0,c.jsx)("span",{className:"mt-2 prop-ai-score-label text-end",children:"Prop-AI Score"})]})})})]}),(0,c.jsxs)("div",{className:"row g-0 mt-3 mt-md-0 pb-2 pb-md-0 content-section-4",children:[(0,c.jsx)("div",{className:"col-8 col-md-7 px-3",children:(0,c.jsx)("div",{className:"mt-2 mt-md-4 mb-2 mb-md-3",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col",children:(0,c.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,c.jsx)(R.q,{label:"".concat(g?"Price per Sqft":"Price per sqm"),value:null!==f?"".concat(d," ").concat(f):"N/A"}),(0,c.jsx)(R.q,{label:"Gross Rental Yield",value:"Calculating.."}),(0,c.jsx)(R.q,{label:"15 year ROI,".concat(0===x?" Cash":" Mortgage"),value:"Calculating.."})]})})})})}),(0,c.jsx)("div",{className:"col-4 col-md-5 pt-md-2 px-3",children:(0,c.jsx)("div",{className:"d-flex flex-column justify-content-around gap-3 h-100 ",children:(0,c.jsx)("div",{className:"d-flex flex-column align-items-end",children:(0,c.jsx)("span",{className:"fw-bold currancy-value",children:"".concat(d," ").concat(o>=1e9?(null===(s=(o/1e9).toFixed(1))||void 0===s?void 0:s.replace(/\.0$/,""))+" billion":o>=1e7?(null===(i=(o/1e6).toFixed(1))||void 0===i?void 0:i.replace(/\.0$/,""))+" million":null==o?void 0:o.toLocaleString("en-US",{maximumFractionDigits:0}))})})})})]}),(0,c.jsxs)("div",{className:"row g-0 mb-2 mb-md-3 align-items-center content-section-5",children:[(0,c.jsx)("div",{className:"col-7 px-3",children:(0,c.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,c.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-1 ps-0 ps-md-2 loading-text",children:[(0,c.jsx)(P.J,{icon:"/icons/ic_baseline-delete-outline.svg",size:15}),"Not Interested"]}),(0,c.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-1 pe-0 pe-md-4 loading-text",children:[(0,c.jsx)(P.J,{icon:"/icons/heart-gray.svg",size:15}),"Shortlist"]})]})}),(0,c.jsx)("div",{className:"col-5 text-end px-3",children:(0,c.jsx)("button",{className:"btn btn-primary loading-btn",children:"View More"})})]})]})]})},V=i(50452),Z=i(29806);i(89506);var B=i(74470),U=i(7310),J=i.n(U),Y=i(5095),H=i(58130),q=i(50309),G=i.n(q),K=i(70604);let X=(e,s)=>{let i={...s};if(e.length){let s=0,t=0,a=0,l=0,n=0;e.forEach((e,i)=>{let{rental_yield:r,roi_15:o,discount_per_sqm:c}=e;0!==i?(r<s&&(s=r),null!==o&&o<t&&(t=o),null!==o&&o>a&&(a=o),null!=c&&c<l&&(l=c),null!=c&&c>n&&(n=c)):(s=(0,B.j4)(r),t=(0,B.j4)(o),a=(0,B.j4)(o),l=(0,B.j4)(c),n=(0,B.j4)(c))}),i.activeGrossRentalYieldFilter=s,i.activeFairMarketValueFilter=[l,n],i.activeROIValueFilter=[t,a]}return i},$=e=>{let s={developmentStatus:[],propertyType:[]};if(null==e?void 0:e.length){let i=new Set,t=new Set;e.forEach(e=>{let{property_type:s,development_status:a}=e;a&&i.add(a),s&&t.add(s)}),s.developmentStatus=Array.from(i).map(e=>e===K.oz.existing?{label:K.a$.existing,value:e}:{label:e,value:e}),s.propertyType=Array.from(t).map(e=>({label:e,value:e}))}return s},Q=(e,s,i)=>{let t=[];return(null==e?void 0:e.length)&&(t=s!==i?e.filter(e=>{let{development_status:i}=e;return G()(s)===G()(i)}):e),t},ee=(e,s,i)=>{let t=[];return(null==e?void 0:e.length)&&(t=s!==i?e.filter(e=>{let{property_type:i}=e;return G()(s)===G()(i)}):e),t},es=(e,s)=>{let[i,t]=s,a=[];if(null==e?void 0:e.length){let s=!1;a=e.filter(e=>{let{discount_per_sqm:a}=e;return null!=a&&(s=a>=i&&a<=t),s})}return a},ei=(e,s)=>{let[i,t]=s,a=[];if(null==e?void 0:e.length){let s=!1;a=e.filter(e=>{let{roi_15:a}=e;return null!=a&&(s=a>=i&&a<=t),s})}return a},et=(e,s)=>{let i=[];if(null==e?void 0:e.length){let t=!1;i=e.filter(e=>{let{rental_yield:i}=e;return null!=i&&(t=i>=s),t})}return i};i(51624);let ea={label:"All",value:"All"};function el(e){let{open:s,onClose:i,userProperties:t=[],userWatchlists:a=[],onUpdateFilters:l}=e,n=l?d.useCallback(J()(l,1e3),[l]):void 0,r=d.useMemo(()=>{let e=[];return(null==a?void 0:a.length)&&(e=a.map(e=>{let{id:s,name:i}=e;return{label:i,value:s}})),e.unshift(ea),e},[a]),{fmv:o,roi:m,developmentStatusOptions:p,propertyTypeOptions:u}=d.useMemo(()=>{let e=X(t,{sortBy:"Newest",activeDevelopmentStatusFilter:ea.value,activeFairMarketValueFilter:[0,0],activeGrossRentalYieldFilter:0,activePropertyTypeFilter:ea.value,activeROIValueFilter:[0,0],activeWatchlistFilterName:ea.value}),{developmentStatus:s,propertyType:i}=$(t);return{fmv:{min:e.activeFairMarketValueFilter[0],max:e.activeFairMarketValueFilter[1]},roi:{min:e.activeROIValueFilter[0],max:e.activeROIValueFilter[1]},developmentStatusOptions:[ea,...s],propertyTypeOptions:[ea,...i]}},[t]),h=e=>"".concat((0,B.Pg)(e),"%");return(0,c.jsx)(Y.M,{children:s&&(0,c.jsxs)(H.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"advanced-property-filters-modal","aria-labelledby":"modalContent","aria-hidden":"true",children:[(0,c.jsx)("div",{className:"advanced-property-filters-modal-backdrop",onClick:i}),(0,c.jsxs)("div",{className:"advanced-property-filters-modal-content bg-white rounded shadow",children:[(0,c.jsx)("div",{className:"d-flex justify-content-end px-4",children:(0,c.jsx)("div",{className:"pt-3",children:(0,c.jsx)(P.J,{icon:"/icons/close.svg",onClick:i})})}),(0,c.jsx)("div",{className:"p-4",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.Ph,{name:"sortBy",options:A,label:"Sort by",onChange:e=>{l&&l(s=>({...s,sortBy:e}))}})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.Ph,{name:"activeWatchlistFilterName",options:r,label:"Watchlist Filter",onChange:e=>{l&&l(s=>({...s,activeWatchlistFilterName:e}))},isDisabled:!(null==a?void 0:a.length)})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.Ph,{name:"activeDevelopmentStatusFilter",options:p,label:"Development Status",onChange:e=>{l&&l(s=>({...s,activeDevelopmentStatusFilter:e}))}})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.Ph,{name:"activePropertyTypeFilter",options:u,label:"Property Type",onChange:e=>{l&&l(s=>({...s,activePropertyTypeFilter:e}))}})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.U2,{name:"activeFairMarketValueFilter",label:"Fair Market Value",min:o.min,max:o.max,tooltipValueFormatter:h,step:.1,onChange:e=>{n&&n(s=>({...s,activeFairMarketValueFilter:e}))}})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.U2,{name:"activeROIValueFilter",label:"15 Year ROI",min:m.min,max:m.max,tooltipValueFormatter:h,step:.1,onChange:e=>{n&&n(s=>({...s,activeROIValueFilter:e}))}})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.ro,{name:"activeGrossRentalYieldFilter",label:"Minimum Gross Rental Yield",decimalPoints:1,suffix:" %",onChange:(e,s)=>{n&&n(e=>({...e,activeGrossRentalYieldFilter:(0,B.j4)(s)}))}})})]})})]})]})})}let en=e=>{let{title:s,subtitle:i,isShortlisted:t,onDiscard:a,onRemoveFromShortlist:l,onRemoveFromAllShortlist:n}=e;return(0,c.jsxs)(S.l0,{initialValues:{confirmationText:""},onSubmit:n,children:[(0,c.jsxs)("div",{children:[s,i]}),(0,c.jsxs)("div",{className:"d-flex justify-content-md-end flex-wrap gap-2 mt-4",children:[(0,c.jsx)(h.Z,{type:"button",onClick:()=>{a&&a()},variant:"outline-dark",className:"px-4 py-3 fw-semibold",children:"Discard"}),t?(0,c.jsx)(h.Z,{className:"btn btn-dark px-5 py-3 fw-semibold",onClick:()=>{l&&l()},children:"From Shortlist"}):null,(0,c.jsx)(S.Mm,{fullWidth:!1,variant:"dark",className:"px-5 py-3 fw-semibold",children:"From All List"})]})]})},er={label:"All",value:"All"};var eo=()=>{var e,s;let i=(0,y.b)(),{showModal:t,hideModal:a}=(0,b.d)(),l=(0,g.I0)(),n=(0,N.useRouter)(),r=(0,M.s)(),{data:o}=(0,f.UV)({},{skip:!i}),{data:m}=(0,f.uT)({},{skip:!i}),[p,{data:D,isSuccess:_}]=(0,f.SL)(),[T]=(0,f.Zd)(),[R]=(0,f.mq)(),[L]=(0,f.Ny)(),[O]=(0,f.Uh)(),[W]=(0,f.YG)(),[U]=(0,f.mN)(),[J]=(0,f.uL)(),[Y,H]=d.useState(7),[q,G]=d.useState(!0),[K,$]=d.useState(7),[ea,eo]=d.useState(!1),[ec,ed]=d.useState("property"),[em,ep]=d.useState({sortBy:"Newest",activeWatchlistFilterName:er.value,activeDevelopmentStatusFilter:er.value,activePropertyTypeFilter:er.value,activeFairMarketValueFilter:[0,0],activeROIValueFilter:[0,0],activeGrossRentalYieldFilter:0}),[eu,eh]=d.useState([]),[{isProposalEngineRunning:ev,validProposalPropertyListFromServer:ex,validPropertyListFromServer:ej,pendingProposalsCount:eg},eN]=d.useState({isProposalEngineRunning:!1,validProposalPropertyListFromServer:[],validPropertyListFromServer:[],pendingProposalsCount:0}),[ef,ey]=d.useState(!1),[eb,ew]=d.useState(!1),ek=e=>{let{activeWatchlistFilterName:s}=em;return null==e||e.slice(),s!==er.value?null==e?void 0:e.filter(e=>(null==e?void 0:e.watchlist_id)===s):e},eC=()=>{let e=[];if(null==m?void 0:m.data){let{watchlistResults:s}=m.data;e=null==s?void 0:s.map(e=>({value:null==e?void 0:e.id,label:null==e?void 0:e.name}))}return(null==e?void 0:e.length)&&(null==e||e.unshift({label:er.label,value:er.value})),e},eS=e=>{let{sortBy:s}=em;return null==e?void 0:e.sort((e,i)=>{switch(s){case"Price (High-Low)":return i.asking_price/i.exchange_rate-e.asking_price/e.exchange_rate;case"Price (Low-High)":return e.asking_price/e.exchange_rate-i.asking_price/i.exchange_rate;case"Property Name (A-Z)":return e.property_name.localeCompare(i.property_name);case"Rental Yield":return i.rental_yield-e.rental_yield;case"ROI":return(0,B.j4)(i.roi_15)-(0,B.j4)(e.roi_15);case"Newest":default:return 0;case"Prop-AI Score":if(!e.selected_score_percentage&&!i.selected_score_percentage)return 0;if(!e.selected_score_percentage)return 1;if(!i.selected_score_percentage)return -1;return(i.selected_score_percentage||0)-(e.selected_score_percentage||0)}})},eP=d.useMemo(()=>{let e=[],s=[],i=[];if(ej.length){let t=eC();ej.slice().forEach(e=>{let{is_loading:t}=e;t?i.push(e):s.push(e)}),e=et(e=ei(e=es(e=ee(e=Q(e=ek(e=eS(s)),em.activeDevelopmentStatusFilter,er.value),em.activePropertyTypeFilter,er.value),em.activeFairMarketValueFilter),em.activeROIValueFilter),em.activeGrossRentalYieldFilter),eh(t)}return[...i,...e]},[em,ej]),eA=eP.filter(e=>{let{isShortlisted:s}=e;return!!s}),eI=(null==m?void 0:m.data)?null==m?void 0:null===(e=m.data)||void 0===e?void 0:e.watchlistResults:[],eM=eA.length,eD=eP.length-eM,e_=eI&&(null==eI?void 0:null===(s=eI.filter(e=>null==e?void 0:e.reach_out))||void 0===s?void 0:s.length)||0,eE=e=>{let s=[];return(null==e?void 0:e.length)&&(s=e.filter(e=>!e.unavailable&&!e.removed&&(14>Number(e.proposed_age)||!e.proposed_age||e.isShortlisted))),s},eT=(e,s,i)=>{t({modalType:"ConfirmationModal",modalProps:{title:e,content:s,onConfirm:i}})},eF=e=>{eT("Confirm deletion","You are about to delete the selected watchlist. ",()=>{eL(e)})},eR=e=>{t({modalType:"AlertModal",modalProps:{variant:u.ax.DANGER,title:"Remove property",content:"Removing property will delete all the information of the property. This can not be undone.",actions:[{variant:"outline-dark",label:"Cancel",onAction:()=>{a()}},{variant:"btn btn-danger",label:"Remove Property",onAction:()=>{eq(e)}}]}})},eL=async e=>{await T({id:e}),a()},eO=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{e||ey(!0);let i=await p({});if(null==i?void 0:i.data){let{property_list:e,property_list_loading:t,proposal_running:a,pending_proposal_count:l}=i.data,n=eE(e);if(s){let e=X(n,em);ep(e)}eN({isProposalEngineRunning:a,validPropertyListFromServer:n,validProposalPropertyListFromServer:t,pendingProposalsCount:l||0})}else eN({isProposalEngineRunning:!1,validPropertyListFromServer:[],validProposalPropertyListFromServer:[],pendingProposalsCount:0})}catch(e){}finally{e||ey(!1)}},eW=()=>{a()},ez=(e,s)=>{let i="You are about to delete the selected Property. ",a=(0,c.jsx)(en,{title:i,subtitle:"Removing property will delete all the information of the property. This can not be undone.",onDiscard:eW,onRemoveFromShortlist:()=>eG(e),onRemoveFromAllShortlist:()=>eq(e),isShortlisted:s});t({modalType:"AlertModal",modalProps:{title:i,content:a,variant:"warning"}})},eV=async(e,s)=>{await W({watchlistId:e,toggleValue:s}),a()},eZ=async(e,s)=>{await U({propertyId:e,favouriteValue:s}),eO(),a()},eB=e=>{t({modalType:"ComingSoonModal"})},eU=(e,s)=>{if(e_<V._r||!s){let i=s?"Turn-on":"Turn-off",l=s?u.ki.autopilotTurnOnContent:u.ki.autopilotTurnOffContent,n=[{variant:"outline-dark",label:"Cancel",onAction:()=>{a()}},{variant:"btn btn-primary",label:i,onAction:()=>{eV(e,s)}}];t({modalType:"AutopilotModal",modalProps:{title:"Prop-AI Autopilot",content:l,isCheck:s,actions:n}})}else t({modalType:"AlertModal",modalProps:{title:u.ki.maxAutopilotWatchlistTogglesReachedModalTitle,content:u.ki.maxAutopilotWatchlistTogglesReachedModalContent,variant:"warning"}})},eJ=(e,s)=>{eZ(e,!s)},eY=e=>{t({modalType:"PropertyDetailsModal",modalProps:{id:e,showAllContent:!0,handleAddToShortlistById:eX,handleRemoveFromShortlistById:eG,handelCompareProperty:eK,triggerPropertyListGetRequest:eO}})},eH=e=>{n.push("/app/evaluation?propertyId=".concat(e))},eq=async e=>{await R({data:{_id:e},email:null==o?void 0:o.email}),eO(),a()},eG=async e=>{await L({data:{_id:e},email:null==o?void 0:o.email}),eO(),a()},eK=(e,s)=>{l(I.D.pushPropertyToCompare({id:e,property_name:s})),n.push("/app/compare?propertyId=".concat(e,"&propertyName=").concat(s))},eX=async e=>{await O({data:{_id:e},email:null==o?void 0:o.email}),eO()},e$=e=>{ed(e)},eQ=()=>{let e=new URLSearchParams;e.set("surveyAction",Z.h.InitiateEasyImportOnboarding),n.push("/survey?".concat(e.toString()))},e0=()=>{let e=(0,v.io)("https://prod-websocket.prop-ai.com/",{path:"/socket/socket.io",transports:["websocket","polling"],withCredentials:!0,autoConnect:!1,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5});return e.on("automaticProposals",e=>{eO(!0)}),e},e1=()=>{ew(e=>!e)};d.useEffect(()=>{let e=e0();if(o){if(eO(!1,!0),!e.connected){e.connect();let s=localStorage.getItem(V.LI);s&&e.emit("automaticProposals",s)}J({})}return()=>{e.connected&&e.disconnect()}},[o]);let e2=!!ej.length,e4=eP.filter(e=>{let{isShortlisted:s,is_loading:i}=e;return!s&&!i}),e5=K-(ex.length+eg),e6=e4.slice(0,e5>0?e5:void 0);return(0,c.jsxs)("div",{className:"px-2 px-md-5 my-5",children:[(0,c.jsxs)("div",{className:"row gx-4",children:["watchlist"!==ec&&r?null:(0,c.jsx)("div",{className:"col col-md-3",children:(0,c.jsxs)("div",{className:"gap-4 p-4 watchlist-section",children:[(0,c.jsxs)("div",{className:"d-flex justify-content-between align-items-center title-section",children:[(0,c.jsx)(P.J,{icon:"/icons/mdi_eye.svg",size:24}),(0,c.jsx)("span",{className:"title-style",children:"Watchlists"}),(0,c.jsx)(x.default,{href:"/survey",children:(0,c.jsx)(P.J,{icon:"/icons/add.svg",size:20})})]}),(0,c.jsx)("div",{className:"border-bottom mt-4"}),(0,c.jsx)("div",{className:"mt-4",children:eI&&eI.length>0&&eI.slice(0,Y).map(e=>(0,c.jsx)("div",{className:"mt-4",children:(0,c.jsx)(k.Z,{watchlist:e,onDelete:eF,onEdit:eB,onSearch:eU})},e.id))}),eI&&eI.length>5&&(0,c.jsx)("div",{className:"d-flex justify-content-center mt-4",children:q?(0,c.jsx)("button",{onClick:()=>{H(e=>e+7),Y+5>=(null==eI?void 0:eI.length)&&G(!1)},className:"btn btn-outline-primary",children:"Load More"}):(0,c.jsx)("button",{onClick:()=>{H(7),G(!0)},className:"btn btn-outline-primary",children:"Show Less"})})]})}),"property"!==ec&&r?null:(0,c.jsx)("div",{className:"col col-md-6",children:(0,c.jsxs)("div",{className:"gap-4 p-4 property-section",children:[(0,c.jsxs)("div",{className:"d-flex justify-content-between align-items-center title-section",children:[(0,c.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,c.jsx)(P.J,{icon:"/icons/fluent_building-32-filled.svg",size:24}),(0,c.jsx)("span",{className:"title-style",children:"Properties"})]}),(0,c.jsxs)("div",{className:"d-flex  align-items-center gap-2",role:"button",children:[(0,c.jsx)(P.J,{icon:"/icons/add.svg",size:14}),(0,c.jsx)("span",{className:"text-primary",onClick:eQ,children:"Import"})]})]}),(0,c.jsx)("div",{className:"border-bottom mt-4"}),(0,c.jsxs)(S.l0,{initialValues:em,onSubmit:()=>{},enableReinitialize:!0,children:[(0,c.jsxs)("div",{className:"row mt-4",children:[(0,c.jsx)("div",{className:"col-5 col-md-4",children:(0,c.jsx)(S.Ph,{name:"sortBy",options:A,label:"Sort by",onChange:e=>{e&&e!==er.value?ep(s=>({...s,sortBy:e})):ep(e=>({...e,sortBy:er.value}))}})}),(0,c.jsx)("div",{className:"col-5 col-md-4",children:(0,c.jsx)(S.Ph,{name:"activeWatchlistFilterName",options:eu,label:r?"Watchlist":"Watchlist Filter",onChange:e=>{e&&e!==er.value?ep(s=>({...s,activeWatchlistFilterName:e})):ep(e=>({...e,activeWatchlistFilterName:er.value}))},isClearable:!0,isDisabled:!(null==eI?void 0:eI.length)})}),(0,c.jsx)("div",{className:"col-2 col-md-4",children:(0,c.jsxs)(h.Z,{className:"more-filters-btn",onClick:e1,disabled:!e2,children:[(0,c.jsx)("div",{className:"d-none d-md-block",children:"More Filters"}),(0,c.jsx)(P.J,{icon:"/icons/filter-blue.svg",backgroundColor:"#fff"})]})})]}),(0,c.jsx)(el,{open:eb,onClose:e1,userProperties:ej,userWatchlists:eI,onUpdateFilters:ep})]}),ev&&(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsx)(F,{onRefresh:eO})}),ef&&(0,c.jsx)(E,{}),_&&!ef&&0===ej.length&&(0,c.jsxs)("div",{className:"px-2 px-md-3 py-5",children:[(0,c.jsx)("div",{className:"d-flex justify-content-center",children:(0,c.jsx)(P.J,{icon:"/icons/property-search-outline.svg",size:100})}),(0,c.jsx)("h4",{className:"py-3 text-center mb-0",children:"No properties added yet"}),(0,c.jsx)("div",{className:"pb-4 text-center text-muted",children:"Thank you for your patience. Prop-AI will recommend best properties soon. Also you can add properties you find yourself using the 'Add Property'"}),(0,c.jsx)("div",{className:"col-md-4 offset-md-4",children:(0,c.jsx)(h.Z,{type:"button",className:"py-3 w-100",onClick:eQ,children:"Add Property"})})]}),!!ex.length&&(0,c.jsx)("div",{className:"mt-4",children:ex.map(e=>{if(e.is_loading)return(0,c.jsx)("div",{className:"mt-4",children:(0,c.jsx)(z,{propertyDetails:e})},null==e?void 0:e._id);let s=e.property_scores_object&&!!Object.keys(e.property_scores_object).length;return(0,c.jsx)("div",{className:"mt-4",children:(0,c.jsx)(C.Z,{propertyDetails:e,onDelete:eR,onLike:eJ,onView:e=>{s?eH(e):eY(e)},onAddToShortlist:eX})},null==e?void 0:e._id)})}),eg>0&&(0,c.jsx)(d.Fragment,{children:Array(eg).fill(1).map((e,s)=>(0,c.jsx)("div",{className:"mt-4",children:(0,c.jsx)(E,{})},s))}),!ef&&!!e6.length&&(0,c.jsxs)(d.Fragment,{children:[(0,c.jsx)("div",{className:"mt-4",children:e6.map(e=>{let s=e.property_scores_object&&!!Object.keys(e.property_scores_object).length;return(0,c.jsx)("div",{className:"mt-4",children:(0,c.jsx)(C.Z,{propertyDetails:e,onDelete:eR,onLike:eJ,onView:e=>{s?eH(e):eY(e)},onAddToShortlist:eX})},null==e?void 0:e._id)})}),eP&&eD>7&&(0,c.jsxs)("div",{className:"d-flex gap-3 justify-content-center mt-4",children:[eP&&eD>7&&K<eD&&(0,c.jsx)("button",{onClick:()=>{$(Math.min(K+7,eD)),eo(!0)},className:"btn btn-outline-primary",children:"Load More"}),ea&&(0,c.jsx)("button",{onClick:()=>{$(7),eo(!1)},className:"btn btn-outline-primary",children:"Show Less"})]})]})]})}),"shortlist"!==ec&&r?null:(0,c.jsx)("div",{className:"col col-md-3",children:(0,c.jsxs)("div",{className:"gap-4 p-4 shortlist-section",children:[(0,c.jsx)("div",{className:"d-flex justify-content-between align-items-center title-section",children:(0,c.jsxs)("div",{className:"d-flex  align-items-center gap-2",children:[(0,c.jsx)(P.J,{icon:"/icons/filled-list.svg",size:28}),(0,c.jsx)("span",{className:"title-style",children:"Shortlisted"})]})}),(0,c.jsx)("div",{className:"border-bottom mt-4"}),_&&(0,c.jsx)("div",{className:"d-flex mt-3 shortlist-count",children:(0,c.jsx)("span",{className:"w-100 text-end shortlist-section-properties-count",children:"".concat(eM," shortlisted")})}),(0,c.jsx)("div",{className:"overflow-section mt-4",children:eA.length>0&&eA.filter(e=>e.isShortlisted).map(e=>{let s=e.property_scores_object&&!!Object.keys(e.property_scores_object).length;return(0,c.jsx)("div",{className:"mt-4",children:(0,c.jsx)(w.Z,{propertyDetails:e,onView:e=>{s?eH(e):eY(e)},onCompare:eK,onDelete:ez})},e._id)})})]})})]}),(0,c.jsx)("div",{className:"d-flex d-md-none align-items-center mobile-bottom-navigation",children:(0,c.jsxs)("div",{className:"row gx-0 align-items-center mobile-bottom-navigation-row",children:[(0,c.jsx)("div",{className:"col mobile-bottom-navigation-col ".concat("watchlist"===ec?"active":""),onClick:()=>e$("watchlist"),children:(0,c.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center h-100",children:[(0,c.jsx)(j.default,{src:"/icons/ph_eye-bold.svg",width:24,height:24,alt:""}),(0,c.jsx)("span",{className:"text-light",children:"Watchlist"})]})}),(0,c.jsx)("div",{className:"col mobile-bottom-navigation-col ".concat("property"===ec?"active":""),onClick:()=>e$("property"),children:(0,c.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center h-100",children:[(0,c.jsx)(j.default,{src:"/icons/fluent_building-32-filled -white.svg",width:24,height:24,alt:""}),(0,c.jsx)("span",{className:"text-light",children:"Prop-AI Proposal"})]})}),(0,c.jsx)("div",{className:"col mobile-bottom-navigation-col ".concat("shortlist"===ec?"active":""),onClick:()=>e$("shortlist"),children:(0,c.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center h-100",children:[(0,c.jsx)(j.default,{src:"/icons/mdi_eye (2).svg",width:24,height:24,alt:""}),(0,c.jsx)("span",{className:"text-light",children:"Shortlisted"})]})})]})})]})},ec=i(66538);function ed(e){let{activeItemIdx:s,setActiveItem:i,items:t=[]}=e,a=t.length-1,l=d.useMemo(()=>{if(null==t?void 0:t.length){let e=t.slice(1).map((e,s)=>({...e,originalIdx:s+1}));return e.splice(a,0,{...t[0],originalIdx:0}),e}return[]},[t.length]);return(0,c.jsx)("div",{className:"bottom-navigation-bar",children:l.map((e,t)=>{let{icon:l,title:n,originalIdx:r}=e,o=s===r;return a===t?(0,c.jsx)("button",{type:"button",className:"navigation-item main".concat(o?" active":""),onClick:()=>i(0),children:(0,c.jsx)("div",{className:"button-circle",children:(0,c.jsx)("img",{src:"/images/logo-vectors/logo-mark-white.svg",alt:" ",className:"circle-image"})})},t):(0,c.jsxs)("button",{type:"button",className:"navigation-item".concat(o?" active":""),onClick:()=>i(r),children:[!!l&&(0,c.jsx)(P.J,{icon:l,alt:"",backgroundColor:o?"#005ee3":void 0}),(0,c.jsx)("span",{className:"item-label",children:n})]},t)})})}i(89526);var em=i(52678),ep=i(75524);let eu=e=>{let{key:s,defaultValue:i=null}=e,[t,a]=d.useState(null),l=e=>{sessionStorage.setItem(s,e),a(e)};return d.useEffect(()=>{let e=sessionStorage.getItem(s);!e&&i&&l(i),e&&a(e)},[]),{state:t,setter:l,remover:()=>{sessionStorage.removeItem(s)}}};(t=n||(n={})).newest="Newest",t.propAIScore="Prop-AI Score",t.roi="ROI",t.rentalYield="Rental Yield",t.priceAsc="Price (Low - High)",t.priceDesc="Price (High - Low)";let eh=Object.values(n),ev={label:"All",value:"All"},ex=[ev,...K.gK],ej=[ev,...K.CG],eg=[{icon:null,title:"Search"},{icon:"/icons/list-star-outline-dark.svg",title:"Shortlist"},{icon:"/icons/cart-outline-dark.svg",title:"Buy"},{icon:"/icons/invest-outline-dark.svg",title:"Mortgage"},{icon:"/icons/user-outline-dark.svg",title:"Advisor"}],eN=eg.map(e=>{let{title:s}=e;return s}),ef={icon:"/icons/fire-outline-dark.svg",title:"Deals"},ey={layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5}},eb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{...ey,transition:{duration:.5,delay:.25*e}}},ew=e=>{let s="N/A";return null!=e&&(0===e.length&&(s="All"),e.length>0&&(s=e.join(", "))),s},ek=e=>(0,B.RE)((0,B.j4)(e),!0,void 0,!1,{maximumFractionDigits:0,minimumFractionDigits:0}),eC=e=>{let{watchlists:s,flag:i,onCancel:t,onToggle:a}=e,l={modalType:"AlertModal",modalProps:{title:u.ki.maxAutopilotWatchlistTogglesReachedModalTitle,content:u.ki.maxAutopilotWatchlistTogglesReachedModalContent,variant:u.ax.WARNING,actions:[]}};return!(s.filter(e=>{let{reachOut:s}=e;return!!s}).length<V._r)&&i||(l.modalType="AutopilotModal",l.modalProps.title="Prop-AI Autopilot",l.modalProps.variant=u.ax.INFO,l.modalProps.actions=[{variant:"outline-dark",label:"Cancel",onAction:t}],i&&(l.modalProps.content=u.ki.autopilotTurnOnContent,l.modalProps.actions.push({variant:"btn btn-primary",label:"Turn-on",onAction:a})),i||(l.modalProps.content=u.ki.autopilotTurnOnContent,l.modalProps.actions.push({variant:"btn btn-primary",label:"Turn-off",onAction:a}))),l},eS=(e,s)=>{let i=!1;if(s){let t=e[s];t.refreshEligible&&!t.refreshing&&(i=!0)}return i},eP=e=>{let s=!1;if(e){let i=Object.keys(e).map(s=>e[s]);i&&!i.some(e=>{let{refreshEligible:s,refreshing:i}=e;return!s||i})&&(s=!0)}return s},eA=(e,s,i)=>{let t=!1;if(s){let i=e[s];t=!(null==i?void 0:i.loadMore)&&(null==i?void 0:i.lineUpCount)>0}return!s&&e&&(t=!Object.keys(e).some(s=>{let i=e[s];return!!(null==i?void 0:i.loadMore)})),t&&i>0},eI=e=>{let s=[];return(null==e?void 0:e.length)>0&&(s=e.filter(e=>{let{isRemoved:s}=e;return!s})),s},eM=(e,s)=>{let i={...s};if(e.length){let s=0,t=0,a=0,l=0,n=0;e.forEach((e,i)=>{let{rentalYield:r,roi15:o,fairMarketValue:c}=e;0!==i?(r<s&&(s=r),null!==o&&o<t&&(t=o),null!==o&&o>a&&(a=o),null!=c&&c<l&&(l=c),null!=c&&c>n&&(n=c)):(s=(0,B.j4)(r),t=(0,B.j4)(o),a=(0,B.j4)(o),l=(0,B.j4)(c),n=(0,B.j4)(c))}),i.minGrossRentalYield=s,i.fmvRange=[l,n],i.roiRange=[t,a]}return i},eD=(e,s)=>{let i=e.slice();switch(s){case n.priceAsc:i.sort((e,s)=>(0,B.j4)(e.askingPrice)-(0,B.j4)(s.askingPrice));break;case n.priceDesc:i.sort((e,s)=>{let i=(0,B.j4)(e.askingPrice);return(0,B.j4)(s.askingPrice)-i});break;case n.propAIScore:i.sort((e,s)=>{if(!e.score&&!s.score)return 0;if(!e.score)return 1;if(!s.score)return -1;let i=(0,B.j4)(e.score);return(0,B.j4)(s.score)-i});break;case n.rentalYield:i.sort((e,s)=>{let i=(0,B.j4)(e.rentalYield);return(0,B.j4)(s.rentalYield)-i});break;case n.roi:i.sort((e,s)=>{let i=(0,B.j4)(e.roi15);return(0,B.j4)(s.roi15)-i})}return i},e_=function(e,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:V.cC,a=eD(e,s),l=[],n=[],r=0;return a.forEach(e=>{let s=n.length===(i<=t?t-i:0);e.isShortlisted?l.push(e):s?r+=1:n.push(e)}),{shortlisted:l,visible:n,remainingCount:r}},eE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,i={total:0,remaining:0,shortlisted:0,visible:0};if(e&&Object.keys(e).length&&(s||Object.keys(e).filter(s=>{let{reachOut:i}=e[s];return!!i}).forEach(s=>{let{totalCount:t,lineUpCount:a,shortlistCount:l,shownCount:n}=e[s];i.total+=t,i.remaining+=a,i.shortlisted+=l,i.visible+=n}),s)){let t=e[s];i.total=t.totalCount,i.remaining=t.lineUpCount,i.shortlisted=t.shortlistCount,i.visible=t.shownCount}return i},eT=()=>({buildingName:ev.value,propertyType:ev.value,propertyDealType:ev.value,priceRange:ev.value,showFavouritesOnly:!1}),eF=(e,s)=>{let i=[];if(null==e?void 0:e.length)switch(s){case K.tF.below1M:i=e.filter(e=>{let{askingPrice:s}=e;return s<1e6});break;case K.tF.between1and2M:i=e.filter(e=>{let{askingPrice:s}=e;return s>=1e6&&s<2e6});break;case K.tF.between2and4M:i=e.filter(e=>{let{askingPrice:s}=e;return s>=2e6&&s<4e6});break;case K.tF.between4and6M:i=e.filter(e=>{let{askingPrice:s}=e;return s>=4e6&&s<6e6});break;case K.tF.between6and10M:i=e.filter(e=>{let{askingPrice:s}=e;return s>=6e6&&s<=1e7});break;case K.tF.above10M:i=e.filter(e=>{let{askingPrice:s}=e;return s>1e7});break;default:i=e.slice()}return i},eR=(e,s,i)=>{let t=[];return(null==e?void 0:e.length)&&(t=s!==i?e.filter(e=>{let{project:i}=e;return G()(s)===G()(i)}):e),t},eL=(e,s,i)=>{let t=[];return(null==e?void 0:e.length)&&(s!==i?(s===K.KD.distressed&&(t=e.filter(e=>{let{isDistressed:s}=e;return!!s})),s===K.KD.offMarket&&(t=e.filter(e=>{let{isOffMarket:s}=e;return!!s}))):t=e),t},eO=(e,s,i)=>{let t=[];return(null==e?void 0:e.length)&&(t=s!==i?e.filter(e=>{let{developmentStatus:i}=e;return G()(s)===G()(i)}):e),t},eW=(e,s,i)=>{let t=[];return(null==e?void 0:e.length)&&(t=s&&s!==i?e.filter(e=>{let{propertyType:i}=e;return G()(s)===G()(i)}):e),t},ez=(e,s)=>{let[i,t]=s,a=[];if(null==e?void 0:e.length){let s=!1;a=e.filter(e=>{let{fairMarketValue:a}=e;return null!=a&&(s=a>=i&&a<=t),s})}return a},eV=(e,s)=>{let[i,t]=s,a=[];if(null==e?void 0:e.length){let s=!1;a=e.filter(e=>{let{roi15:a}=e;return null!=a&&(s=a>=i&&a<=t),s})}return a},eZ=(e,s)=>{let i=[];if(null==e?void 0:e.length){let t=!1;i=e.filter(e=>{let{rentalYield:i}=e;return null!=i&&(t=i>=s),t})}return i},eB=function(e,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ev.value,{developmentStatus:t,fmvRange:a,minGrossRentalYield:l,propertyType:n,roiRange:r}=s,o=[],c=[],d=[];return e.length&&(e.slice().forEach(e=>{let{isLoading:s}=e;s?d.push(e):c.push(e)}),o=eZ(o=eV(o=ez(o=eW(o=eO(c,t,i),n,i),a),r),l)),[...d,...o]},eU=(e,s,i)=>{let t=s.slice();if(!i){let i=e.reduce((e,s)=>(e[s.watchlistId]=!0,e),{});return s.filter(e=>{let{watchlistId:s}=e;return!!i[s]})}return t.filter(e=>{let{watchlistId:s}=e;return s===i})},eJ=e=>{if(e){let{area:s,masterProject:i,project:t}=e,a=[];return i&&a.push(i),!i&&s&&a.push(s),t&&a.push(t),a.join(" | ")}return null},eY=e=>{let{onCancel:s,onDelete:i}=e;return{modalType:"AlertModal",modalProps:{variant:u.ax.DANGER,title:"Remove property",content:"Removing property will delete all the information of the property. This can not be undone.",actions:[{variant:"outline-dark",label:"Cancel",onAction:s},{variant:"btn btn-danger",label:"Remove Property",onAction:i}]}}},eH=e=>{let{onCancel:s,onRemove:i}=e;return{modalType:"AlertModal",modalProps:{variant:u.ax.WARNING,title:"You are about to remove the Property from Shortlist.",content:"This action will not delete the property but will add the property back to the Search list. Are you sure?",actions:[{variant:"outline-dark",label:"Cancel",onAction:s},{variant:"btn btn-warning",label:"Remove Property",onAction:i}]}}},eq=e=>{let s=0;if(e.askingPrice&&void 0!==e.fairMarketValue&&null!==e.fairMarketValue){let{askingPrice:i,fairMarketValue:t}=e;s=i/(100+t)*100}return s},eG=e=>{let s=0;if(e.askingPrice&&void 0!==e.fairMarketValue&&null!==e.fairMarketValue){let{askingPrice:i}=e,t=eq(e);s=i>t?(i+t)*.5:i}return s},eK=e=>{let{fairMarketValue:s}=e,i={min:-20,max:10,acceptanceMin:60,acceptanceMax:99};return null!=s&&(s>=20&&(i.min=-20,i.max=0,i.acceptanceMin=70,i.acceptanceMax=99),s<=19&&s>=15&&(i.min=-20,i.max=5,i.acceptanceMin=65,i.acceptanceMax=99),s<=-1&&s>=-5&&(i.min=-15,i.max=15,i.acceptanceMin=70,i.acceptanceMax=99),s<=-6&&s>=-10&&(i.min=-10,i.max=15,i.acceptanceMin=75,i.acceptanceMax=99),s<=-11&&s>=-15&&(i.min=-5,i.max=20,i.acceptanceMin=75,i.acceptanceMax=99),s<=-16&&(i.min=0,i.max=20,i.acceptanceMin=85,i.acceptanceMax=99)),i},eX=e=>{let{newAction:s,onCancel:i,onUnregister:t}=e,a={title:u.ki.offPlanPropertyUnRegisterInterestConfirmationModalTitle,content:u.ki.offPlanPropertyUnRegisterInterestConfirmationModalContent,variant:u.ax.ERROR,actions:[{variant:"danger",label:"Yes",onAction:t},{variant:"outline-danger",label:"Cancel",onAction:i}]};return s&&(a.title=u.ki.offPlanPropertyRegisterInterestConfirmationModalTitle,a.content=u.ki.offPlanPropertyRegisterInterestConfirmationModalContent,a.variant=u.ax.INFO,a.actions=[{variant:"primary",label:"OK",onAction:i}]),{modalType:"AlertModal",modalProps:a}},e$=e=>{let{newAction:s,onCancel:i,onUnregister:t}=e,a={title:u.ki.distressedDealUnRegistrationConfirmationTitle,content:u.ki.distressedDealUnRegistrationConfirmationContent,variant:u.ax.ERROR,actions:[{variant:"danger",label:"Yes",onAction:t},{variant:"outline-danger",label:"Cancel",onAction:i}]};return s&&(a.title=u.ki.distressedDealUnRegistrationConfirmationTitle,a.content=u.ki.distressedDealUnRegistrationConfirmationContent,a.variant=u.ax.INFO,a.actions=[{variant:"primary",label:"OK",onAction:i}]),{modalType:"AlertModal",modalProps:a}},eQ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=null,i=null,t=e=>(0,B.RE)(e,!1,"AED",!1,{maximumFractionDigits:0,minimumFractionDigits:0});e.forEach(e=>{null!==e.price&&(null===s&&(s=0),s+=e.price,(null===i||e.price>i)&&(i=e.price))});let a=null!==s&&e.length>0?s/e.length:null;return{rawTotal:s,formattedTotal:t((0,B.j4)(s)),rawAvg:a,formattedAvg:t((0,B.j4)(a)),rawMax:i,formattedMax:t((0,B.j4)(i))}},e0={name:"Beth Cole",email:"beth.cole@prop-ai.com",image:"/images/beth-cole.png",telephone:i(98864).i};var e1=i(17847),e2=i(6406),e4=i(10279),e5=i(71096),e6=i.n(e5),e3=i(91524);function e7(){let{marketReportMetaData:e,downloadReport:s}=(0,e3.v)(),[i,t]=d.useState(!1),a=async()=>{t(!0),await s(),t(!1)},l=(null==e?void 0:e.date)?e6()(null==e?void 0:e.date).format("MMMM YYYY"):null;return(0,c.jsxs)("div",{className:"market-report-banner",children:[(0,c.jsx)("div",{className:"banner-image-container"}),(0,c.jsx)("div",{className:"banner-overlay"}),(0,c.jsx)("div",{className:"report-snap"}),(0,c.jsxs)("div",{className:"banner-content",children:[(0,c.jsx)("div",{className:"title",children:"Explore Dubai's Real Estate with Our Latest Prop-AI Market Report!"}),(0,c.jsxs)("div",{className:"description",children:["Residential Real Estate",l?", ".concat(l):""]}),(0,c.jsx)("button",{type:"button",className:"action-btn",disabled:i,onClick:a,children:i?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e4.default,{size:"sm"}),(0,c.jsx)("span",{className:"ms-2",children:"Loading..."})]}):(0,c.jsx)(d.Fragment,{children:(null==e?void 0:e.isReportDownloaded)?(0,c.jsx)("div",{className:"text-with-tick",children:"Downloaded"}):"Download Now"})})]})]})}i(24388);let e8=()=>(0,d.useContext)(iy),e9=function(e){var s,i;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.ki.defaultAPIErrorMessage;return(null==e?void 0:null===(i=e.error)||void 0===i?void 0:null===(s=i.data)||void 0===s?void 0:s.message)&&(t=e.error.data.message),t},se=e=>"error"in e,ss=e=>{let{targetDateTime:s,disabled:i=!1,updateIntervalInSeconds:t=1e3,onExpire:a}=e,[l,n]=d.useState(null);return d.useEffect(()=>{let e=null;return!i&&s&&(e=setInterval(()=>{let i=e6()(s).diff(e6()(),"second");i>0&&n(i),i<=0&&(n(0),a&&a(),clearInterval(e))},t)),()=>{e&&clearInterval(e)}},[i,s]),d.useMemo(()=>{let e={days:0,hours:0,minutes:0,seconds:0,isExpired:!0};return null!==l&&l>=0&&(e.days=Math.floor(l/86400),e.hours=Math.floor(l%86400/3600),e.minutes=Math.floor(l%3600/60),e.seconds=Math.floor(l%60),e.isExpired=l<0),e},[l])};function si(e){let{imageURL:s="/images/49ad79f1c3a9ac6f58e743427c12082f.png",title:i="Get access to Off-Market and Distressed Deals",description:t="Apply now if you are looking for rare investment opportunities and can decide fast!"}=e,a=(0,g.I0)(),{showModal:l,hideModal:n}=(0,b.d)(),{dispatchNotice:r,dispatchErrorNotice:o,NoticeType:d}=(0,ep.k)(),{dashboardBannerState:m,isDashboardBannerStateLoading:p}=e8(),h=ss({targetDateTime:null==m?void 0:m.dealsExpiryDate,disabled:!m}),[v,{isLoading:x}]=(0,f.zm)(),j=p||x,N=async e=>{try{let s=await v({flag:e}),i=se(s);if(i){let e=e9(s);o(e)}i||(e&&r(u.ki.distressedDealRegistrationSuccessContent,{autoDismiss:!0,noticeType:d.success}),e||(r(u.ki.distressedDealUnRegistrationSuccessContent,{autoDismiss:!0,noticeType:d.success}),a(f.o2.util.invalidateTags(["DistressedPropertyDeals"]))))}catch(e){o("Something went wrong. Please try again later.")}},y=()=>{let e=(null==m?void 0:m.dealsBtnState)===K.kX.notGranted,s=(null==m?void 0:m.dealsBtnState)===K.kX.granted;e&&N(!0),s&&l(e$({newAction:!1,onCancel:n,onUnregister:()=>{N(!1),n()}}))},w=h.isExpired,k=(null==m?void 0:m.dealsBtnState)!==K.kX.applied&&(null==m?void 0:m.dealsBtnState)!==K.kX.granted&&(null==m?void 0:m.dealsBtnState)!==K.kX.inReview&&(null==m?void 0:m.dealsBtnState)!==K.kX.notGranted,C=e=>{let{children:s,className:i="",disabled:t=!1}=e;return(0,c.jsx)("button",{type:"button",className:"action-btn ".concat(i),onClick:y,disabled:j||w||t,children:j?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e4.default,{size:"sm"}),(0,c.jsx)("span",{className:"ms-2",children:"Loading..."})]}):s})};return(0,c.jsxs)("div",{className:"distressed-deal-banner",children:[(0,c.jsx)("div",{className:"banner-image-container",children:(0,c.jsx)("img",{src:s,alt:" ",className:"banner-image"})}),(0,c.jsxs)("div",{className:"banner-content",children:[(0,c.jsxs)("div",{className:"banner-text-container",children:[(0,c.jsx)("div",{className:"title",children:i}),(0,c.jsx)("div",{className:"description",children:t}),(null==m?void 0:m.dealsBtnState)===K.kX.notGranted&&(0,c.jsx)(C,{children:"Apply for Access"}),(null==m?void 0:m.dealsBtnState)===K.kX.granted&&(0,c.jsx)(C,{className:j?"":"active",children:"Access Granted"}),(null==m?void 0:m.dealsBtnState)===K.kX.inReview&&(0,c.jsx)(C,{disabled:!0,children:"Reviewing Application"}),(null==m?void 0:m.dealsBtnState)===K.kX.applied&&(0,c.jsx)(C,{disabled:!0,children:"Application Submitted"}),k&&(0,c.jsx)(C,{disabled:!0,children:"Application Submitted"})]}),(0,c.jsxs)("div",{className:"banner-countdown-container",children:[(0,c.jsxs)("div",{className:"distressed-deal-badge",children:[(0,c.jsx)(P.J,{icon:"/icons/noto_fire.svg",alt:"\uD83D\uDD25",size:14}),(0,c.jsx)("div",{className:"badge-text",children:"Distressed Deal"})]}),w?(0,c.jsx)("div",{className:"banner-countdown expired",children:(0,c.jsx)("div",{className:"countdown-title",children:"Expired"})}):(0,c.jsxs)("div",{className:"banner-countdown",children:[(0,c.jsx)("div",{className:"countdown-title",children:"Closing In"}),(0,c.jsxs)("div",{className:"countdown-parts",children:[(0,c.jsxs)("div",{className:"countdown-part",children:[(0,c.jsx)("div",{className:"countdown-part-value",children:h.days}),(0,c.jsx)("div",{className:"countdown-part-label",children:"Days"})]}),(0,c.jsxs)("div",{className:"countdown-part",children:[(0,c.jsx)("div",{className:"countdown-part-value",children:h.hours}),(0,c.jsx)("div",{className:"countdown-part-label",children:"Hours"})]}),(0,c.jsxs)("div",{className:"countdown-part",children:[(0,c.jsx)("div",{className:"countdown-part-value",children:h.minutes}),(0,c.jsx)("div",{className:"countdown-part-label",children:"Mins"})]}),(0,c.jsxs)("div",{className:"countdown-part",children:[(0,c.jsx)("div",{className:"countdown-part-value",children:h.seconds}),(0,c.jsx)("div",{className:"countdown-part-label",children:"Secs"})]})]})]})]})]})]})}i(18582),i(86659);let st={autoplay:!0,pauseOnHover:!0,dots:!0,arrows:!1,autoplaySpeed:5e3,slidesToShow:1,slidesToScroll:1,className:"ad-banner-slider",dotsClass:"banner-slider-dots d-flex"};function sa(e){let{imageURL:s,title:i,description:t}=e,{dashboardBannerState:a,isDashboardBannerStateLoading:l}=e8(),{showModal:n,hideModal:r}=(0,b.d)(),{dispatchNotice:o,dispatchErrorNotice:d}=(0,ep.k)(),[m,{isLoading:p}]=(0,f.Tl)(),h=l||p,v=async e=>{try{let s=await m({flag:e}),i=se(s);if(i){let e=e9(s);d(e)}!i&&e&&o(u.ki.offPlanPropertyRegisterInterestConfirmationModalContent,{autoDismiss:!0})}catch(e){d("Something went wrong. Please try again later.")}},x=()=>{let e=!(null==a?void 0:a.offMarketBtnState);e&&v(e),e||n(eX({newAction:e,onCancel:r,onUnregister:()=>{v(e),r()}}))},j=e=>{let{children:s,className:i=""}=e;return(0,c.jsx)("button",{type:"button",className:"action-btn ".concat(i),onClick:x,disabled:h,children:h?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e4.default,{size:"sm"}),(0,c.jsx)("span",{className:"ms-2",children:"Loading..."})]}):s})};return(0,c.jsxs)("div",{className:"ad-banner",children:[(0,c.jsx)("div",{className:"banner-image-container",children:(0,c.jsx)("img",{src:s,alt:" ",className:"banner-image"})}),(0,c.jsxs)("div",{className:"banner-content",children:[(0,c.jsx)("div",{className:"title",children:i}),(0,c.jsx)("div",{className:"description",children:t}),!(null==a?void 0:a.offMarketBtnState)&&(0,c.jsx)(j,{children:"Turn-On"}),(null==a?void 0:a.offMarketBtnState)&&(0,c.jsx)(j,{className:h?"":"active",children:"Active"})]})]})}function sl(e){let{onHideBanners:s}=e,{marketReportMetaData:i}=(0,e3.v)();return(0,c.jsxs)("div",{className:"ad-banners-content",children:[(0,c.jsxs)(e2.Z,{...st,children:[(0,c.jsx)(sa,{imageURL:"/images/77a39e04d3870a27a0c5007601c20fa5.jpeg",title:"Discover the top Off-Plan launches handpicked by our AI",description:"Receive alerts and exclusive Prop-AI analysis about upcoming Off-Plan launches!"}),!!i&&(0,c.jsx)(e7,{}),(0,c.jsx)(si,{})]}),(0,c.jsx)("button",{type:"button",className:"close-btn",onClick:s,children:(0,c.jsx)(P.J,{icon:"/icons/close.svg",alt:"x",backgroundColor:"#fff",size:20})})]})}function sn(){return(0,c.jsx)("div",{className:"how-it-works-content",children:(0,c.jsxs)("ol",{children:[(0,c.jsxs)("li",{children:["Click",(0,c.jsx)("div",{className:"bordered-icon",children:(0,c.jsx)(P.J,{icon:"/icons/ic_round-plus.svg",size:16})}),"to create a Watchlist for your property search."]}),(0,c.jsx)("li",{children:"Once a Watchlist is created, our AI will find the best properties for you."}),(0,c.jsxs)("li",{children:["Click",(0,c.jsx)("div",{className:"bordered-icon",children:(0,c.jsx)(P.J,{icon:"/icons/heart-outline-green.svg",size:16})}),"to shortlist a property or",(0,c.jsx)("div",{className:"bordered-icon",children:(0,c.jsx)(P.J,{icon:"/icons/close-line-red.svg",size:16})}),"to remove it. Our AI will learn from your feedback and propose more properties."]}),(0,c.jsxs)("li",{children:["Click ",(0,c.jsx)("div",{className:"outlined-mock-btn",children:"View Evaluation"})," to see all data about the property and simulate the investment."]}),(0,c.jsxs)("li",{children:["When you are ready, go to your"," ",(0,c.jsx)("span",{className:"fw-bold text-primary",children:"Shortlist"})," and make an offer."]}),(0,c.jsx)("li",{children:"You can reach out to our Prop-AI advisors in case of questions or for help."})]})})}i(94081),i(46410);let sr=e=>{let{label:s,value:i,indicatorClassName:t=""}=e;return(0,c.jsxs)("div",{className:"legend-record",children:[(0,c.jsxs)("div",{className:"record-indicator-container",children:[(0,c.jsx)("div",{className:"indicator ".concat(t)}),(0,c.jsx)("div",{className:"label",children:s})]}),(0,c.jsx)("div",{className:"value",children:i})]})},so=e=>{let{remaningCount:s,visibleCount:i}=e;return 0===i&&s>0?"Pending":"To be Reviewed"},sc=e=>{let{remainingPropertiesCount:s,shortlistedPropertiesCount:i,visiblePropertiesCount:t,enableLegend:a=!1,isLoading:l=!1}=e,[n,r]=d.useState(!1),o=t+i+s,m=o>0?i/o*100:0,p=o>0?t/o*100:0,u=so({remaningCount:s,visibleCount:t});return(0,c.jsxs)("div",{className:"properties-overview-bar-wrapper".concat(l?" placeholder-glow":""),children:[(0,c.jsxs)("div",{className:"properties-overview-bar",children:[l&&(0,c.jsx)("div",{className:"placeholder w-100 rounded-pill"}),!l&&(0,c.jsxs)(Y.M,{children:[!!m&&(0,c.jsx)(H.E.div,{initial:{width:0},animate:{width:"".concat(m,"%")},className:"overview-bar-segment shortlisted"},"shortlisted-segment shortlisted"),!!p&&(0,c.jsx)(H.E.div,{initial:{width:0},animate:{width:"".concat(p,"%")},className:"overview-bar-segment viewing"},"shortlisted-segment viewing")]})]}),a&&(0,c.jsxs)(d.Fragment,{children:[(0,c.jsx)(P.J,{icon:"/icons/info-circle-outline-grey.svg",size:18,alt:"i",onClick:()=>r(!0)}),(0,c.jsxs)("div",{className:"overview-bar-legend-popup ".concat(n?"popup-visible":""),children:[(0,c.jsxs)("div",{className:"pop-up-header",children:[(0,c.jsx)("div",{className:"title",children:"Properties"}),(0,c.jsx)(P.J,{icon:"/icons/close.svg",size:16,alt:"x",onClick:()=>r(!1)})]}),(0,c.jsxs)("div",{className:"popup-body",children:[(0,c.jsx)(sr,{label:u,value:s}),(0,c.jsx)(sr,{label:"Showing",value:t,indicatorClassName:"showing"}),(0,c.jsx)(sr,{label:"Marked as Interested",value:i,indicatorClassName:"shortlisted"})]})]})]})]})};function sd(e){let{visiblePropertiesCount:s,shortlistedPropertiesCount:i,remainingPropertiesCount:t,isLoading:a}=e,[l,n]=d.useState(!0),r=s+i+t,o=r>0?i/r*100:0,m=r>0?s/r*100:0,p=so({remaningCount:t,visibleCount:s}),u=()=>{n(e=>!e)};return(0,c.jsxs)("div",{className:"properties-overview-card".concat(l?"":" how-it-works-expanded"),children:[(0,c.jsxs)("div",{className:"properties-overview-card-header",children:[(0,c.jsx)("div",{className:"title",children:"Properties"}),(0,c.jsx)("button",{type:"button",className:"how-it-works-btn",onClick:u,children:"How it works?"})]}),(0,c.jsxs)("div",{className:"properties-overview-card-body",children:[(0,c.jsx)(sc,{shortlistedPropertiesCount:i,visiblePropertiesCount:s,remainingPropertiesCount:t,isLoading:a}),(0,c.jsxs)("div",{className:"properties-overview-bar-labels",children:[!!o&&(0,c.jsxs)("div",{style:{flexBasis:"".concat(o,"%")},className:"properties-overview-bar-label shortlisted",children:["Shortlist ",i]}),!!m&&(0,c.jsxs)("div",{style:{flexBasis:"".concat(m,"%")},className:"properties-overview-bar-label viewing px-2",children:["Showing ",s]}),!!t&&(0,c.jsxs)("div",{className:"properties-overview-bar-label flex-grow-1",children:[p," ",t]})]})]}),(0,c.jsxs)("div",{className:"how-it-works-floating-container",children:[(0,c.jsx)("div",{className:"section-divider"}),(0,c.jsxs)("div",{className:"how-it-works-container",children:[(0,c.jsxs)("div",{className:"how-it-works-header",children:[(0,c.jsx)("div",{className:"title-container",children:"How it works?"}),(0,c.jsx)("div",{className:"chevron-icon-wrapper",children:(0,c.jsx)(P.J,{icon:"/icons/chevron-black-down.svg",alt:"v",size:24,backgroundColor:"#5d5d60",onClick:u})})]}),(0,c.jsx)("div",{className:"how-it-works-body",children:(0,c.jsx)(sn,{})})]})]})]})}i(14686);let sm={opacity:1},sp={opacity:0};function su(e){let{icon:s,label:i,value:t,className:a="",isExtended:l=!1}=e;return(0,c.jsx)(Y.M,{children:(0,c.jsxs)("div",{className:"watchlist-dropdown-spec ".concat(a," ").concat(l?"extended":""),children:[l&&(0,c.jsx)(H.E.div,{initial:sp,animate:sm,exit:sp,className:"dropdown-spec-label",children:i}),!l&&!!s&&(0,c.jsx)("div",{style:{maskImage:"url(".concat(s,")"),WebkitMaskImage:"url(".concat(s,")")},className:"dropdown-spec-icon"}),(0,c.jsx)("div",{className:"dropdown-spec-value",children:t})]})})}i(86328);var sh=i(46650);function sv(e){var s;let{watchlist:i,isActive:t=!1,setIsActive:a,onEdit:l,onDelete:n,onToggleAutoPilot:r}=e,[o,m]=d.useState(!1),p=ew(null!==i.bedrooms&&void 0!==i.bedrooms?i.bedrooms.map(e=>(0,W.cD)(e)):null),u=ew(i.propertyTypes),h=i.mortgagePercentage>0?"Finance":"Cash",v=ek(i.minInvestment),x=ek(i.maxInvestment),j=(null==i?void 0:null===(s=i.areas)||void 0===s?void 0:s.length)?i.areas:[];return(0,c.jsxs)("div",{className:"watchlist-dropdown-card".concat(o?" extended":"").concat(t?" active":""),onClick:()=>{a&&i.watchlistId&&a(i.watchlistId)},children:[(0,c.jsxs)("div",{className:"watchlist-dropdown-card-header",children:[(0,c.jsxs)("div",{className:"watchlist-name-row",children:[(0,c.jsx)(P.J,{icon:"/icons/stars_blue_filled.svg",alt:"*",size:24,backgroundColor:i.reachOut?void 0:"#5d5d60"}),(0,c.jsx)("div",{className:"watchlist-name",children:i.watchlistName})]}),(0,c.jsxs)("button",{type:"button",className:"view-more-btn",onClick:e=>{e.stopPropagation(),m(e=>!e)},children:[!o&&(0,c.jsx)("div",{children:"View More"}),o&&(0,c.jsx)("div",{children:"View Less"}),(0,c.jsx)("span",{className:"d-block chevron-down",children:(0,c.jsx)(P.J,{icon:"/icons/chevron-black-down.svg",alt:"v",size:20,backgroundColor:"#005ee3"})})]})]}),(0,c.jsxs)("div",{className:"ai-copilot-control-container",children:[(0,c.jsx)("div",{children:"AI Copilot"}),(0,c.jsx)("div",{className:"form-check form-switch",children:(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",checked:!!i.reachOut,readOnly:!0,onClick:e=>{e.stopPropagation(),r&&i.watchlistId&&r(i.watchlistId,!i.reachOut)}})})]}),(0,c.jsx)("div",{className:"divider"}),(0,c.jsx)("div",{className:"watchlist-dropdown-card-body",children:(0,c.jsxs)("div",{className:"summarized-specs",children:[(0,c.jsx)(su,{icon:"/icons/buildings_grey.svg",label:"Type",value:u,isExtended:o}),(0,c.jsx)(su,{icon:"/icons/ic_round-bed.svg",label:"Beds",value:p,isExtended:o}),!!i.developmentStatus&&(0,c.jsx)(su,{icon:"/icons/carbon_floorplan.svg",label:"Development Status",value:i.developmentStatus,isExtended:o}),(0,c.jsx)(su,{icon:"/icons/ic_baseline-attach-money.svg",label:"Financing",value:h,isExtended:o}),(0,c.jsx)(su,{label:"Total Budget",icon:"/icons/ic_baseline-attach-money.svg",value:(0,c.jsxs)("span",{children:[(0,c.jsx)(sh.Z,{value:null,currencyStr:"AED"})," ".concat(v," - ").concat(x)]}),isExtended:o})]})}),(0,c.jsx)("div",{className:"divider"}),(0,c.jsx)("div",{className:"watchlist-dropdown-card-footer",children:(0,c.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,c.jsx)(L.W,{countryName:"UAE",hideName:!0}),(0,c.jsx)("div",{children:"Dubai"})]})}),(0,c.jsx)("div",{className:"selected-areas-container",children:j.map((e,s)=>(0,c.jsx)("div",{className:"selected-area",children:e},"".concat(e,"_").concat(s)))}),(0,c.jsxs)("div",{className:"collapsible-section",children:[(0,c.jsx)("div",{className:"divider"}),(0,c.jsxs)("div",{className:"footer-actions",children:[(0,c.jsx)("button",{type:"button",className:"footer-action-btn edit",onClick:e=>{e.stopPropagation(),l&&i.watchlistId&&l(i.watchlistId)},children:"Edit"}),(0,c.jsx)("button",{type:"button",className:"footer-action-btn delete",onClick:e=>{e.stopPropagation(),n&&i.watchlistId&&n(i.watchlistId)},children:"Delete"})]})]})]})}function sx(e){var s,i;let{propertyOverviewCounts:t,isOverviewLoading:a,watchlists:l=[],activeWatchlistId:n,setActiveWatchlistId:r,onDeleteWatchlistData:o,onModifyWatchlistData:m,onToggleWatchlistCopilot:p,onAddWatchlist:u}=e,h=(0,M.s)(),[v,x]=d.useState(!0),[j,g]=d.useState(!0),[N,f]=d.useState(!1),y=e=>{r&&r(e),x(!0)},b=()=>{let{documentElement:e}=document;f(e.scrollTop>0)},w=null!==(i=l.find(e=>{let{watchlistId:s}=e;return s===n}))&&void 0!==i?i:null,k=null===w,C=ew(null!==w&&null!==w.bedrooms&&void 0!==w.bedrooms?w.bedrooms.map(e=>(0,W.cD)(e)):null),S=ew(null==w?void 0:w.propertyTypes),A=null!==w&&w.mortgagePercentage>0?"Mortgage":"Cash",I=ek(null==w?void 0:w.minInvestment),D=ek(null==w?void 0:w.maxInvestment),_=(null==w?void 0:null===(s=w.areas)||void 0===s?void 0:s.length)?"".concat(w.areas.length," Areas"):null,{remaining:E,shortlisted:T,visible:F}=t,R=F+E+T;return d.useEffect(()=>{if(h)return window.addEventListener("scroll",b),()=>{window.removeEventListener("scroll",b)};window.removeEventListener("scroll",b),f(!1)},[h]),(0,c.jsxs)("div",{className:"watchlist-dropdown-wrapper",children:[(0,c.jsxs)("div",{className:"watchlist-dropdown-selection-container".concat(v?"":" cards-list-expanded").concat(j?"":" how-it-works-expanded"),children:[(0,c.jsxs)("div",{className:"card-header".concat(N?" extra-details-shrinked":""),children:[(0,c.jsxs)("div",{role:"button",className:"watchlist-name-row",onClick:()=>{x(e=>!e)},children:[!k&&(0,c.jsx)(P.J,{icon:"/icons/stars_blue_filled.svg",alt:"*",size:24,backgroundColor:w.reachOut?void 0:"#5d5d60"}),(0,c.jsx)("div",{className:"watchlist-name",children:k?"All Active Watchlists":w.watchlistName}),(0,c.jsx)("div",{className:"chevron-icon-wrapper",children:(0,c.jsx)(P.J,{icon:"/icons/chevron-black-down.svg",alt:"v",size:20})})]}),(0,c.jsx)(P.J,{icon:"/icons/ic_round-plus.svg",alt:"+",size:24,onClick:u})]}),(0,c.jsxs)("div",{className:"shrinkable-controls".concat(N?" shrinked":""),children:[k&&(0,c.jsx)("div",{className:"card-body",children:(0,c.jsxs)("div",{className:"all-watchlists-count",children:[l.length," Watchlists"]})}),null!==w&&(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsxs)("div",{className:"ai-copilot-control-container",children:[(0,c.jsx)("div",{children:"AI Copilot"}),(0,c.jsx)("div",{className:"form-check form-switch",children:(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",role:"switch",checked:!!w.reachOut,readOnly:!0,onClick:()=>p(w.watchlistId,!w.reachOut)})})]}),(0,c.jsxs)("div",{className:"specs-container-wrapper",children:[(0,c.jsxs)("div",{className:"specs-container",children:[(0,c.jsx)(su,{icon:"/icons/buildings_grey.svg",value:S,className:"grey-watchlist-spec"}),(0,c.jsx)(su,{icon:"/icons/ic_round-bed.svg",value:C,className:"grey-watchlist-spec"}),!!w.developmentStatus&&(0,c.jsx)(su,{icon:"/icons/carbon_floorplan.svg",value:w.developmentStatus,className:"grey-watchlist-spec"}),(0,c.jsx)(su,{icon:"/icons/ic_baseline-attach-money.svg",value:A,className:"grey-watchlist-spec"}),(0,c.jsx)(su,{icon:"/icons/ic_baseline-attach-money.svg",value:"".concat(I," - ").concat(D," ").concat(w.currency),className:"grey-watchlist-spec"}),_&&(0,c.jsx)(su,{icon:"/icons/carbon_map.svg",value:_,className:"grey-watchlist-spec"})]}),(0,c.jsxs)("div",{className:"selected-watchlist-actions-container",children:[(0,c.jsx)(P.J,{icon:"/icons/pencil-md.svg",onClick:()=>m(w.watchlistId)}),(0,c.jsx)(P.J,{icon:"/icons/trash-danger-outlined-gray.svg",onClick:()=>o(w.watchlistId)})]})]})]})]}),(0,c.jsxs)("div",{className:"mobile-only-controls d-md-none",children:[(0,c.jsx)("div",{className:"property-overview-md-container d-md-none",children:(0,c.jsx)(sc,{visiblePropertiesCount:F,shortlistedPropertiesCount:T,remainingPropertiesCount:E,isLoading:a,enableLegend:!0})}),(0,c.jsx)("div",{className:"property-overview-md-container",children:(0,c.jsxs)("div",{className:"overview-labels-container",children:[(0,c.jsx)("div",{children:"To be Reviewed"}),(0,c.jsxs)("div",{children:[F," of ",R]})]})})]}),(0,c.jsx)("div",{className:"shrinkable-controls".concat(N?" shrinked":""),children:(0,c.jsx)("div",{className:"mobile-only-controls d-md-none",children:(0,c.jsx)("div",{className:"how-it-works-md-container",children:(0,c.jsxs)("button",{type:"button",className:"how-it-works-btn",onClick:()=>{g(e=>!e)},children:["How it works",(0,c.jsx)("div",{className:"chevron-icon-wrapper",children:(0,c.jsx)(P.J,{icon:"/icons/chevron-black-down.svg",alt:"v",size:20,backgroundColor:"#005ee3"})})]})})})}),(0,c.jsxs)("div",{className:"dropdown-floating-container",children:[(0,c.jsx)("div",{className:"section-divider"}),(0,c.jsx)("div",{className:"collapsible-how-it-works-wrapper d-md-none",children:(0,c.jsx)("div",{className:"collapsible-how-it-works",children:(0,c.jsx)(sn,{})})}),(0,c.jsx)("div",{className:"watchlist-dropdown-options-wrapper",children:(0,c.jsxs)("div",{className:"watchlist-dropdown-options",children:[(0,c.jsx)("button",{type:"button",className:"all-watchlist-option ".concat(null===w?"active":""),onClick:()=>y(null),children:"All Active Watchlists"}),l.map(e=>(0,c.jsx)(sv,{watchlist:e,isActive:e.watchlistId===n,setIsActive:y,onDelete:o,onEdit:m,onToggleAutoPilot:p},e.watchlistId))]})})]})]}),(!v||!j)&&(0,c.jsx)("div",{className:"watchlist-dropdown-outside-alerter",onClick:()=>{v||x(!0),j||g(!0)}})]})}function sj(e){let{propertyOverviewCounts:s={visible:0,shortlisted:0,remaining:0},isOverviewLoading:i,watchlists:t,activeWatchlistId:a,onDeleteWatchlistData:l,onModifyWatchlistData:n,setActiveWatchlistId:r,onToggleWatchlistCopilot:o,onAddWatchlist:d}=e;return(0,c.jsxs)("div",{className:"row g-0 gap-3",children:[(0,c.jsx)("div",{className:"col-md-4",children:(0,c.jsx)(sx,{propertyOverviewCounts:s,isOverviewLoading:i,watchlists:t,activeWatchlistId:a,onDeleteWatchlistData:l,onModifyWatchlistData:n,setActiveWatchlistId:r,onToggleWatchlistCopilot:o,onAddWatchlist:d})}),(0,c.jsx)("div",{className:"col d-none d-md-block",children:(0,c.jsx)(sd,{visiblePropertiesCount:s.visible,shortlistedPropertiesCount:s.shortlisted,remainingPropertiesCount:s.remaining,isLoading:i})})]})}function sg(e){let{children:s=null}=e,[i,t]=d.useState(!1),a=()=>{t(e=>!e)};return(0,c.jsxs)("div",{className:"property-list-filter-dropdown-wrapper",children:[(0,c.jsxs)("div",{className:"property-list-filter-dropdown",onClick:a,children:[(0,c.jsx)(P.J,{icon:"/icons/filter-outline-black.svg",size:24,alt:"="}),(0,c.jsx)("div",{children:"Filters"})]}),i&&(0,c.jsx)("div",{className:"filter-dropdown-outside-alerter",onClick:()=>t(!1)}),(0,c.jsx)(Y.M,{children:i&&(0,c.jsx)(H.E.div,{initial:{opacity:0},animate:{opacity:1,boxShadow:"0px 4px 8px 0px rgba(102, 102, 102, 0.3)"},exit:{opacity:0},className:"filter-inputs-outer-container",children:(0,c.jsxs)("div",{className:"filter-inputs-inner-container",children:[(0,c.jsxs)("div",{className:"inputs-header",children:[(0,c.jsx)("div",{children:"Filters"}),(0,c.jsx)(P.J,{icon:"/icons/close.svg",size:24,alt:"x",onClick:a})]}),(0,c.jsx)("div",{className:"inputs-body",children:s})]})})})]})}function sN(e){let{options:s=[],value:i,onChange:t}=e,[a,l]=d.useState(!1),n=e=>{t&&t(e),l(!1)},r=s.findIndex(e=>e===i),o=r>=0?s[r]:"All";return(0,c.jsxs)("div",{className:"property-list-sort-dropdown-wrapper",children:[(0,c.jsxs)("div",{className:"property-list-sort-dropdown",onClick:()=>{l(e=>!e)},children:[(0,c.jsx)(P.J,{icon:"/icons/sort-outline-blue.svg",size:24,alt:"="}),(0,c.jsx)("div",{children:o})]}),a&&(0,c.jsx)("div",{className:"sort-dropdown-outside-alerter",onClick:()=>l(!1)}),(0,c.jsx)(Y.M,{children:a&&(0,c.jsx)(H.E.div,{initial:{opacity:0},animate:{opacity:1,boxShadow:"0px 4px 8px 0px rgba(102, 102, 102, 0.3)"},exit:{opacity:0},className:"property-list-sort-options-outer-container",children:(0,c.jsx)("div",{className:"property-list-sort-options-inner-container",children:s.map((e,s)=>{let i=s===r;return(0,c.jsx)("div",{className:"sort-option".concat(i?" active":""),onClick:()=>n(e),children:e},s)})})})})]})}i(52216),i(25454),i(57054),i(68069);var sf=i(25898),sy=i(682),sb=i(46678);i(21513),i(76639);let sw="Loading";function sk(e){let{property:s,isPartialDataAvailable:i=!1,onShortlist:t,onRemove:a}=e,{showModal:l,hideModal:n}=(0,b.d)(),[r,o]=d.useState(!1),[m,p]=d.useState(!1),u=()=>{n()},h=async()=>{if(t&&(null==s?void 0:s.propertyId)){let{propertyId:e,isShortlisted:i}=s;i?l(eH({onCancel:u,onRemove:async()=>{u(),o(!0),await t(e,!i),o(!1)}})):(o(!0),await t(e,!i),o(!1))}},v=(null==s?void 0:s.askingPrice)?(0,B.RE)(s.askingPrice,!0,s.askingPriceCurrency,!1,{maximumFractionDigits:0,minimumFractionDigits:0}):sw,x=(null==s?void 0:s.bedrooms)?(0,W.cD)(s.bedrooms,"BR"):sw,g=(null==s?void 0:s.propertySize)?s.propertySize.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}):sw,N=(null==s?void 0:s.developmentStatus)?(0,W._E)(s.developmentStatus):sw,f=(null==s?void 0:s.isShortlisted)?"/icons/heart-filled-green.svg":"/icons/heart-outline-green.svg";return(0,c.jsx)("div",{className:"property-details-card-v2-skeleton",children:(0,c.jsx)("div",{className:"property-details-card-v2 placeholder-wave",children:(0,c.jsxs)("div",{className:"basic-property-details-container",children:[(0,c.jsxs)("div",{className:"property-image-section",children:[!i&&(0,c.jsx)("div",{className:"property-details-card-image placeholder h-100 w-100"}),i&&(0,c.jsxs)("div",{className:"property-details-card-image",children:[(0,c.jsx)("div",{className:"prop-ai-icon"}),(0,c.jsx)("div",{children:"Collecting images"})]})]}),(0,c.jsxs)("div",{className:"property-info-section",children:[(0,c.jsxs)("div",{className:"price-score-row",children:[!i&&(0,c.jsx)("span",{className:"price-container col-5",children:(0,c.jsx)("span",{className:"price-text placeholder col-10 rounded-pill"})}),i&&(0,c.jsxs)("span",{className:"price-container",children:[!!(null==s?void 0:s.askingPriceCurrency)&&(0,c.jsx)("span",{className:"currency",children:(0,c.jsx)(sh.Z,{currencyStr:s.askingPriceCurrency,value:null})}),(0,c.jsx)("span",{className:"price",children:v})]}),(0,c.jsx)("div",{className:"score-container",children:(0,c.jsx)("span",{className:"score placeholder px-4 rounded-pill"})})]}),!i&&(0,c.jsxs)("div",{className:"location-row",children:[(0,c.jsxs)("div",{className:"location-item col-2",children:[(0,c.jsx)("div",{className:"icon-placeholder placeholder rounded-circle"}),(0,c.jsx)("div",{className:"item-text h-100 placeholder rounded-pill w-100"})]}),(0,c.jsxs)("div",{className:"location-item col-2",children:[(0,c.jsx)("div",{className:"icon-placeholder placeholder rounded-circle"}),(0,c.jsx)("div",{className:"item-text h-100 placeholder rounded-pill w-100"})]}),(0,c.jsxs)("div",{className:"location-item col-3",children:[(0,c.jsx)("div",{className:"icon-placeholder placeholder rounded-circle"}),(0,c.jsx)("div",{className:"item-text h-100 placeholder rounded-pill w-100"})]}),(0,c.jsxs)("div",{className:"location-item city-location flex-grow-1",children:[(0,c.jsx)("div",{className:"flag placeholder ps-4 h-100 rounded"}),(0,c.jsx)("div",{className:"city-location-text placeholder rounded-pill h-100 col-7"})]})]}),i&&(0,c.jsxs)("div",{className:"location-row",children:[(0,c.jsxs)("div",{className:"location-item",children:[(0,c.jsx)("div",{title:"Bedrooms",className:"item-icon beds"}),(0,c.jsx)("div",{children:x})]}),(0,c.jsxs)("div",{className:"location-item",children:[(0,c.jsx)("div",{title:"Property Area",className:"item-icon area"}),(0,c.jsxs)("div",{children:[g," ",(null==s?void 0:s.propertySize)?"sqft":""]})]}),(0,c.jsxs)("div",{className:"location-item",children:[(0,c.jsx)("div",{title:"Property Status",className:"item-icon dev-status"}),(0,c.jsx)("div",{children:N})]}),(0,c.jsxs)("div",{title:"Location",className:"location-item city-location",children:[(0,c.jsx)(L.W,{countryName:"UAE",hideName:!0}),!!(null==s?void 0:s.cityName)&&(0,c.jsx)("div",{children:s.cityName})]})]}),(0,c.jsxs)("div",{className:"md-metrics-summary gap-5",children:[(0,c.jsxs)("div",{className:"metric-container flex-grow-1 w-auto",children:[(0,c.jsx)("div",{className:"metric-title w-100 placeholder rounded-pill"}),(0,c.jsx)("div",{className:"metric-value align-items-start",children:(0,c.jsx)("span",{className:"main placeholder col-8 rounded-pill"})})]}),(0,c.jsxs)("div",{className:"metric-container flex-grow-1 w-auto",children:[(0,c.jsx)("div",{className:"metric-title w-100 placeholder rounded-pill"}),(0,c.jsx)("div",{className:"metric-value",children:(0,c.jsx)("span",{className:"main placeholder col-8 rounded-pill"})})]}),(0,c.jsxs)("div",{className:"metric-container flex-grow-1 w-auto",children:[(0,c.jsx)("div",{className:"metric-title w-100 placeholder rounded-pill"}),(0,c.jsx)("div",{className:"metric-value align-items-end",children:(0,c.jsx)("span",{className:"main placeholder col-8 rounded-pill"})})]})]}),(0,c.jsxs)("div",{className:"evaluation-summary",children:[!i&&(0,c.jsxs)("div",{className:"summary-header",children:[(0,c.jsx)("div",{className:"summary-title col-4 placeholder rounded-pill"}),(0,c.jsx)("div",{className:"summary-analysis placeholder col-3 py-3"})]}),i&&(0,c.jsx)("div",{className:"summary-header",children:(0,c.jsx)("div",{className:"summary-title",children:"Key Metrics"})}),(0,c.jsxs)("div",{className:"desktop-metrics-summary gap-5",children:[(0,c.jsxs)("div",{className:"metric-container flex-grow-1 w-auto",children:[(0,c.jsx)("div",{className:"metric-title w-100 placeholder rounded-pill"}),(0,c.jsx)("div",{className:"metric-value align-items-start",children:(0,c.jsx)("span",{className:"main placeholder col-8 rounded-pill"})})]}),(0,c.jsxs)("div",{className:"metric-container flex-grow-1 w-auto",children:[(0,c.jsx)("div",{className:"metric-title w-100 placeholder rounded-pill"}),(0,c.jsx)("div",{className:"metric-value",children:(0,c.jsx)("span",{className:"main placeholder col-8 rounded-pill"})})]}),(0,c.jsxs)("div",{className:"metric-container flex-grow-1 w-auto",children:[(0,c.jsx)("div",{className:"metric-title w-100 placeholder rounded-pill"}),(0,c.jsx)("div",{className:"metric-value align-items-end",children:(0,c.jsx)("span",{className:"main placeholder col-8 rounded-pill"})})]})]})]}),(0,c.jsx)("div",{className:"md-actions-divider"}),(0,c.jsxs)("div",{className:"card-actions-row",children:[(0,c.jsx)("div",{className:"view-evaluation-btn-skeleton placeholder rounded skeleton py-3"}),i?(0,c.jsx)("button",{type:"button",className:"icon-action-btn",onClick:h,disabled:r,children:r?(0,c.jsx)(j.default,{height:28,width:28,src:"/icons/loading-spinner.svg",alt:"o",className:"loading-icon"}):(0,c.jsx)(P.J,{icon:f,size:28,alt:""})}):(0,c.jsx)("div",{className:"icon-placeholder-container",children:(0,c.jsx)("div",{className:"icon-placeholder placeholder rounded-circle"})}),i?(0,c.jsx)("button",{type:"button",className:"icon-action-btn",onClick:()=>{if(a&&(null==s?void 0:s.propertyId)){let{propertyId:e}=s;l(eY({onCancel:u,onDelete:async()=>{u(),p(!0),await a(e),p(!1)}}))}},disabled:m,children:m?(0,c.jsx)(j.default,{height:28,width:28,src:"/icons/loading-spinner.svg",alt:"o",className:"loading-icon"}):(0,c.jsx)(P.J,{icon:"/icons/close-line-red.svg",size:28,alt:"x"})}):(0,c.jsx)("div",{className:"icon-placeholder-container",children:(0,c.jsx)("div",{className:"icon-placeholder placeholder rounded-circle"})}),(0,c.jsx)("div",{className:"icon-placeholder-container",children:(0,c.jsx)("div",{className:"icon-placeholder placeholder rounded-circle"})})]})]})]})})})}var sC=i(34422);function sS(e){let{label:s="Chat Now",variant:i="default",className:t="",onClick:a}=e;return(0,c.jsxs)("button",{type:"button",className:"whatsapp-btn ".concat(i," ").concat(t),onClick:a,children:[(0,c.jsx)("div",{className:"icon"}),(0,c.jsx)("div",{className:"btn-label",children:s})]})}i(70742),(a=r||(r={})).default="default",a.plain="plain",a.outlined="outlined";var sP=i(63333);function sA(e){let{title:s,tooltipContent:i,children:t}=e;return(0,c.jsxs)("div",{className:"property-details-card-subsection",children:[s&&(0,c.jsxs)("div",{className:"subsection-header",children:[(0,c.jsx)("div",{className:"title",children:s}),i&&(0,c.jsx)(sP.b,{content:i,size:20})]}),(0,c.jsx)("div",{className:"subsection-body",children:t})]})}i(59869);var sI=i(18683),sM=i(1560),sD=i(77314);function s_(e){let{handle:s}=e;return(0,c.jsx)("div",{...s.props,children:(0,c.jsx)("div",{className:"range-slider-handle"})})}function sE(e){let{name:s,label:i,estimationConfig:t,onMakeOffer:a,disabled:l=!1,onBlur:n,currency:r="AED"}=e,[o,m,p]=(0,sD.U$)(s),[u,h]=d.useState(!1),v=d.useMemo(()=>{let e=o.value||0,s=t.maxAllowedOffer-t.minAllowedOffer,i=(e-t.minAllowedOffer)/s,a=t.maxAcceptanceProbability-t.minAcceptanceProbability;return t.minAcceptanceProbability+a*i},[t,o.value]),x=(0,B.Pg)(v),j=m.touched&&!!m.error,g=!!a;return(0,c.jsxs)(d.Fragment,{children:[(0,c.jsxs)("div",{className:"offer-input-wrapper".concat(j?" field-error":"").concat(u?" slider-dropdown-expanded":"").concat(g?"":" without-btn").concat(l?" field-disabled":""),children:[(0,c.jsxs)("div",{className:"offer-input-container",children:[(0,c.jsx)("div",{className:"offer-input-field-label",children:i}),(0,c.jsxs)("div",{className:"offer-input-field-wrapper",children:[(0,c.jsx)(sh.Z,{value:null,currencyStr:r}),(0,c.jsx)(sM.h3,{className:"offer-input-field",thousandSeparator:",",decimalScale:0,fixedDecimalScale:!0,min:t.minAllowedOffer,max:t.maxAllowedOffer,value:o.value||0,onValueChange:e=>{let{floatValue:s}=e;s&&p.setValue(Math.round(s))},onBlur:e=>{o.onBlur(e),n&&n()},onClick:()=>{l||u||h(!0)},size:1,disabled:l})]}),u&&(0,c.jsx)("div",{className:"range-slider-outside-alerter",onClick:()=>{h(!1),n&&n()}}),(0,c.jsx)("div",{className:"range-slider-container-outer",children:(0,c.jsxs)("div",{className:"range-slider-container-inner",children:[(0,c.jsxs)("div",{className:"range-slider",children:[(0,c.jsx)("div",{className:"range-corner-value text-start",children:"".concat(t.formattedMinPercentage,"%")}),(0,c.jsxs)("div",{className:"range-input",children:[(0,c.jsx)(sI.Z,{min:t.minAllowedOffer,max:t.maxAllowedOffer,value:o.value||0,onChange:e=>{"number"==typeof e&&p.setValue(Math.round(e))},startPoint:t.askingPrice,className:"slider-input",handleRender:e=>(0,c.jsx)(s_,{handle:e}),disabled:l}),(0,c.jsx)("div",{className:"range-middle-value-text-container",children:(0,c.jsx)("div",{style:{left:"".concat(t.startPointLeftOffset,"%")},className:"range-middle-value-text",children:(0,c.jsx)(sh.Z,{value:t.askingPrice,currencyStr:r})})})]}),(0,c.jsx)("div",{className:"range-corner-value text-end",children:"+".concat(t.formattedMaxPercentage,"%")})]}),!j&&v>0&&v<100&&(0,c.jsxs)("div",{className:"offer-acceptance-probability dropdown-inner",children:["Offer has ",x,"% chance to get accepted"]})]})}),(0,c.jsx)("button",{className:"chevron-btn",onClick:()=>h(!u)})]}),!j&&v>0&&v<100&&(0,c.jsxs)("div",{className:"d-md-none offer-acceptance-probability dropdown-inner",children:["Offer has ",x,"% chance to get accepted"]}),j&&(0,c.jsx)("div",{className:"d-md-none offer-input-error",children:m.error}),!!g&&(0,c.jsx)("button",{type:"button",className:"offer-input-btn",onClick:a,disabled:l,children:"Make an Offer"})]}),!l&&(0,c.jsxs)(d.Fragment,{children:[j&&(0,c.jsx)("div",{className:"d-none d-md-block offer-input-error",children:m.error}),!j&&v>0&&v<100&&(0,c.jsxs)("div",{className:"d-none d-md-block offer-acceptance-probability ".concat(u?" hidden":""),children:["Offer has ",x,"% chance to get accepted"]})]})]})}i(48937);var sT=i(38536);function sF(e){let{title:s,children:i,show:t,onHide:a}=e;return(0,c.jsx)(Y.M,{children:t&&(0,c.jsxs)(H.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"on-page-modal-container","aria-labelledby":"modalContent","aria-hidden":"true",children:[(0,c.jsx)("div",{className:"on-page-modal-backdrop",onClick:a}),(0,c.jsx)("div",{className:"on-page-modal-content-wrapper",children:(0,c.jsxs)("div",{className:"on-page-modal-content",children:[(0,c.jsxs)("div",{className:"on-page-modal-header",children:[(0,c.jsx)("div",{className:"on-page-modal-title",children:s}),(0,c.jsx)("button",{"aria-label":"close modal button",type:"button",className:"on-page-modal-close-btn",onClick:a})]}),(0,c.jsx)("div",{className:"on-page-modal-body",children:i})]})})]})})}i(32462);var sR=i(14084),sL=i(76705),sO=i(63021);function sW(e){let{transactions:s=[],averageTxPrice:i=null}=e,t=d.useMemo(()=>({maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!1},tooltip:{backgroundColor:"#fff",titleColor:"#000",bodyColor:"#000",footerColor:"#000",borderWidth:1,borderColor:"#ddd",boxPadding:5,padding:15,titleFont:{size:16},bodyFont:{size:16}},annotation:{annotations:[{display:!!i,type:"line",id:"y",yScaleID:"y",borderColor:"#a3a3a3",borderWidth:1,borderDash:[5,5],yMax:i||void 0,yMin:i||void 0}]}},scales:{x:{grid:{color:"transparent",tickColor:"#000"},border:{color:"#000"},ticks:{font:{size:13},padding:10,color:"#262626"}},y:{grid:{color:"transparent",tickColor:"#000"},border:{color:"#000"},ticks:{font:{size:13},color:"#262626",autoSkip:!0,maxTicksLimit:5,callback:e=>[Number(e).toLocaleString("en-US",{maximumFractionDigits:0,minimumFractionDigits:0}),"AED"]},position:"left"}},elements:{point:{radius:5,borderColor:"rgba(0, 94, 227, 0.24)",backgroundColor:"#005EE3",borderWidth:5},line:{borderWidth:2,borderColor:"#005EE3"}}}),[i]),a=Array.isArray(s)?[...s].sort((e,s)=>e.date&&s.date?e6()(s.date).diff(e6()(e.date)):0):[],l={datasets:[{data:a.map(e=>{let{price:s}=e;return s})}],labels:a.map(e=>{let{date:s}=e;return s?e6()(s).format("MM/YY"):null})};return(0,c.jsx)(sL.x1,{data:l,options:t,width:"100%"})}sR.kL.register(sR.od,sR.jn,sR.Dx,sR.u,sR.De,sO.Z);var sz=i(14442);i(24508);let sV={arrows:!0,slidesToShow:1,slidesToScroll:1,className:"property-image-slider",prevArrow:(0,c.jsx)(e=>{let{onClick:s}=e;return(0,c.jsx)("div",{className:"custom-arrow custom-prev-arrow",onClick:s,children:(0,c.jsx)(P.J,{icon:"/icons/chevron-left-white.svg",size:20})})},{}),nextArrow:(0,c.jsx)(e=>{let{onClick:s}=e;return(0,c.jsx)("div",{className:"custom-arrow custom-next-arrow",onClick:s,children:(0,c.jsx)(P.J,{icon:"/icons/chevron-right-white.svg",size:20})})},{}),lazyLoad:"ondemand"},sZ=e=>{let{estimationConfig:s}=e;return(0,c.jsxs)(d.Fragment,{children:[(0,c.jsx)("div",{className:"modal-section-title bottom-spaced mb-md-0",children:"Client Details"}),(0,c.jsxs)("div",{className:"w-100",children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6 top-spaced-field",children:(0,c.jsx)(S.nv,{name:"buyerName",label:"Buyer Name"})}),(0,c.jsx)("div",{className:"col-md-6 top-spaced-field",children:(0,c.jsx)(S.nv,{name:"buyerEmail",label:"Email"})})]}),(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-md-6 top-spaced-field",children:(0,c.jsx)(S.g8,{name:"buyerContact",label:"Contact"})})})]}),(0,c.jsx)("div",{className:"py-3"}),(0,c.jsx)("div",{className:"w-100",children:(0,c.jsx)("div",{className:"row mt-5 mt-md-4",children:(0,c.jsx)("div",{className:"col",children:(0,c.jsx)(S.XZ,{name:"termsAccepted",label:(0,c.jsxs)("div",{className:"tc-block",children:["I give Prop-AI permission to contact me through mobile and email, represent me as my buyer broker and share my non-binding offer and personal information with the seller and other third parties involved as required and agree to the\xa0",(0,c.jsx)(x.default,{href:"/terms",rel:"noopener noreferrer",target:"_blank",className:"text-decoration-underline",children:"Terms & Conditions"}),"."]})})})})}),(0,c.jsx)("div",{className:"w-100",children:(0,c.jsx)("div",{className:"row mt-4",children:(0,c.jsx)("div",{className:"col-md-4 offset-md-4 mt-3 mt-md-4",children:(0,c.jsx)(S.Mm,{className:"action-btn"})})})})]})};function sB(e){var s;let{estimationConfig:i,property:t,show:a,onHide:l,onChatWithAdvisor:n,onClickEvaluate:o}=e,{showModal:p}=(0,b.d)(),{values:u}=(0,sD.u6)(),[v,x]=d.useState(!1),[j,g]=d.useState(0),[N,y]=d.useState(!1),{data:w,isLoading:k,isSuccess:C}=(0,f.fN)({propertyId:t.propertyId,count:"10",sortBy:"similar"},{skip:!(t&&a)}),{data:S}=(0,f.jp)({propertyId:null==t?void 0:t.propertyId},{skip:!(t&&a)}),{images:A,mapCoordinates:I,askingPriceCurrency:M}=t,D=eJ(t),_=(0,W.yy)(t),E=(0,W.cD)(null==t?void 0:t.bedrooms,"BR"),T=(0,B.RE)(t.askingPrice,!1,t.askingPriceCurrency,!1,{maximumFractionDigits:0,minimumFractionDigits:0}),F=(0,B.RE)(i.estimatedPrice,!1,t.askingPriceCurrency,!1,{maximumFractionDigits:0,minimumFractionDigits:0}),R=(null==t?void 0:t.propertySize)?t.propertySize.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}):0,L=(0,W._E)(null==t?void 0:t.developmentStatus),O=u.offerAmount.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),z=A.length,V=e=>(0,B.RE)((0,B.j4)(e),!0,M||"AED",!1,{maximumFractionDigits:0,minimumFractionDigits:0}),Z=M||"AED",U=(0,B.j4)(null==S?void 0:null===(s=S.soldComparableProperties)||void 0===s?void 0:s.length),J=(0,B.j4)(null==S?void 0:S.transactionCount),q=V(null==S?void 0:S.maxPrice),G=V(null==S?void 0:S.minPrice),K=V(null==S?void 0:S.avgPriceSqft),X=V(null==S?void 0:S.avgPriceSqftTop),$=!!t&&(null==S?void 0:S.soldComparableProperties.length)===0,Q=!!(null==I?void 0:I.latitude)&&!!(null==I?void 0:I.longitude),ee=(null==t?void 0:t.isDistressed)?sb.q.distressedDeals:void 0,{rawAvg:es,formattedAvg:ei,formattedMax:et}=eQ(w);return(0,c.jsx)(sF,{title:"Make Offer",show:a,onHide:l,children:(0,c.jsxs)("div",{className:"make-offer-on-page-modal",children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"make-offer-property-image-section",children:[Q&&v?(0,c.jsx)(sf.D,{coordinates:{lat:I.latitude,lng:I.longitude},propertyImage:{url:null==A?void 0:A[0],external:!0}}):(0,c.jsx)(e2.Z,{...sV,beforeChange:(e,s)=>{g(s)},children:(null==A?void 0:A.length)>0?A.map((e,s)=>(0,c.jsx)(sb.Z,{url:e,placeholderVariant:ee},s)):(0,c.jsx)(sb.Z,{url:"",placeholderVariant:ee})}),(0,c.jsx)("div",{className:"viginette-overlay"}),!v&&(0,c.jsx)("div",{className:"controls-header",children:(0,c.jsx)("button",{type:"button",className:"control-icon-btn",children:(0,c.jsx)(P.J,{icon:"/icons/fullscreen-outline-white.svg",size:16,alt:"[]",onClick:()=>{var e;(null==t?void 0:null===(e=t.images)||void 0===e?void 0:e.length)&&p({modalType:"ImageViewModal",modalProps:{images:t.images,initialSlide:j}})}})})}),(0,c.jsxs)("div",{className:"controls-footer",children:[!!z&&(0,c.jsxs)("span",{className:"image-count",children:[j+1," of ",z]}),!!Q&&(0,c.jsx)("button",{type:"button",className:"control-icon-btn",children:(0,c.jsx)(P.J,{icon:v?"/icons/camera.svg":"/icons/map-location-outline-white.svg",size:16,alt:"v",onClick:()=>{x(!v)},backgroundColor:"#fff"})})]})]})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"make-offer-property-info-section",children:[(0,c.jsx)("div",{className:"property-name",children:D}),(0,c.jsxs)("div",{className:"property-specs-container",children:[!!(null==t?void 0:t.propertyType)&&(0,c.jsxs)("div",{className:"property-spec",children:[(0,c.jsx)("div",{className:"spec-icon type"}),(0,c.jsx)("div",{children:t.propertyType})]}),(0,c.jsxs)("div",{className:"property-spec",children:[(0,c.jsx)("div",{className:"spec-icon area"}),(0,c.jsx)("div",{children:R})]}),(0,c.jsxs)("div",{className:"property-spec",children:[(0,c.jsx)("div",{className:"spec-icon beds"}),(0,c.jsx)("div",{children:E})]}),(0,c.jsxs)("div",{className:"property-spec",children:[(0,c.jsx)("div",{className:"spec-icon dev-status"}),(0,c.jsx)("div",{children:L})]}),!!_.area&&(0,c.jsxs)("div",{className:"property-spec location-spec",children:[(0,c.jsx)("div",{className:"spec-icon location"}),(0,c.jsxs)("div",{children:[_.area,!!_.city&&(0,c.jsxs)("span",{children:[", ",_.city]})]})]})]}),(0,c.jsxs)("div",{className:"row info-actions",children:[(0,c.jsx)("div",{className:"col-6",children:(0,c.jsx)(h.Z,{variant:"outline-primary",className:"info-action-btn",onClick:o,children:"View Evaluation"})}),(0,c.jsx)("div",{className:"col-6",children:(0,c.jsx)(sS,{className:"w-100",variant:r.outlined,onClick:n})})]})]})})]}),(0,c.jsx)("div",{className:"py-3"}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6 mb-4 mb-md-0",children:(0,c.jsx)(Y.M,{children:N?(0,c.jsx)(H.E.div,{initial:{opacity:0},animate:{opacity:1},children:(0,c.jsx)(sE,{label:"Offer Amount",name:"offerAmount",estimationConfig:i,onBlur:()=>{y(!1)}})},"input"):(0,c.jsxs)(H.E.div,{initial:{opacity:0},animate:{opacity:1},className:"ceiling-price-container",children:[(0,c.jsxs)("div",{className:"ceiling-price-content",children:[(0,c.jsx)("div",{className:"ceiling-price-title",children:"My Ceiling Price"}),(0,c.jsx)("div",{className:"ceiling-price-subtitle",children:"Non-Binding. Our advisors will negotiate the best price."}),(0,c.jsxs)("div",{className:"ceiling-price-value",children:[(0,c.jsx)("span",{className:"currency me-1",children:M}),O||""]})]}),(0,c.jsx)("div",{className:"ceiling-price-actions",children:(0,c.jsx)("button",{type:"button",className:"ceiling-price-action-btn",onClick:()=>y(!0),children:"Edit"})})]},"viewable-card")})}),(0,c.jsx)("div",{className:"col-6 col-md-3",children:(0,c.jsx)("div",{className:"price-container-wrapper",children:(0,c.jsxs)("div",{className:"price-container",children:[(0,c.jsx)("div",{className:"price-container-label",children:"Asking Price"}),(0,c.jsx)("div",{className:"price-container-value",children:T})]})})}),(0,c.jsx)("div",{className:"col-6 col-md-3",children:(0,c.jsx)("div",{className:"price-container-wrapper",children:(0,c.jsxs)("div",{className:"price-container",children:[(0,c.jsx)("div",{className:"price-container-label",children:"AI Estimated Market Value"}),(0,c.jsx)("div",{className:"price-container-value",children:F})]})})})]}),(0,c.jsx)("div",{className:"py-3"}),(0,c.jsx)(sT.Z,{className:"transactions-collapsible",children:(0,c.jsxs)(sT.Z.Item,{eventKey:"0",children:[(0,c.jsx)(sT.Z.Header,{children:(0,c.jsxs)("div",{className:"d-block",children:[(0,c.jsx)("div",{className:"collapsible-title",children:"Last 10 Transactions"}),(0,c.jsx)("div",{className:"collapsible-subtitle",children:"Similar Properties"})]})}),(0,c.jsx)(sT.Z.Body,{children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-md-8 offset-md-2",children:[k&&(0,c.jsx)(m.Z,{loadingText:"Loading Transactions..."}),(null==w?void 0:w.length)>0&&C&&(0,c.jsx)(sW,{transactions:w,averageTxPrice:es}),(null==w?void 0:w.length)===0&&C&&(0,c.jsx)("div",{className:"alert alert-dark text-center",children:"No recent transactions yet..."})]}),(null==w?void 0:w.length)>0&&C&&(0,c.jsx)("div",{className:"col-md-8 offset-md-2 mt-3",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-6",children:(0,c.jsx)("div",{className:"price-container-wrapper",children:(0,c.jsxs)("div",{className:"price-container",children:[(0,c.jsx)("div",{className:"price-container-label",children:"Average Price"}),(0,c.jsx)("div",{className:"price-container-value",children:ei})]})})}),(0,c.jsx)("div",{className:"col-6",children:(0,c.jsx)("div",{className:"price-container-wrapper",children:(0,c.jsxs)("div",{className:"price-container",children:[(0,c.jsx)("div",{className:"price-container-label",children:"Highest Price"}),(0,c.jsx)("div",{className:"price-container-value",children:et})]})})})]})}),(0,c.jsx)("div",{className:"col-12",children:!k&&!!S&&(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col",children:(0,c.jsx)("div",{className:"px-2 pt-4 pb-3",children:(0,c.jsx)(sz.Z,{children:$?(0,c.jsx)("div",{children:"No transactions for similar property in Last 6 Months"}):(0,c.jsxs)(d.Fragment,{children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{className:"fw-6 d-block",children:"Price per Sqft"}),(0,c.jsxs)("span",{children:[Z," ",X," ","for"," ",U," ","best fit comparable properties and"," ",Z," ",K," for all comparable properties sold over Last 6 Months."]})]}),(0,c.jsxs)("div",{className:"mt-4 mt-md-3",children:[(0,c.jsx)("strong",{className:"fw-6 d-block",children:"Transactions and Price"}),(0,c.jsxs)("span",{children:[J," ","comparable properties were sold over the Last 6 Months, ranging from"," ",Z," ",G," to"," ",Z," ",q,"."]})]})]})})})})})})]})})]})}),(0,c.jsx)("div",{className:"section-divider"}),(0,c.jsx)(sZ,{estimationConfig:i})]})})}i(43822),i(46350);let sU=sC.Ry().shape({offerAmount:sC.Rx().required("Amount is required").test({name:"max",test:function(e){if(!(e<=this.parent.maxOfferAmount)){let e=(0,B.RE)(this.parent.maxOfferAmount,!0,void 0,!1,{minimumFractionDigits:0,maximumFractionDigits:0});return this.createError({message:"Maximum allowed offer is: ".concat(e)})}return!0}}).test({name:"min",test:function(e){if(!(e>=this.parent.minOfferAmount)){let e=(0,B.RE)(this.parent.minOfferAmount,!0,void 0,!1,{minimumFractionDigits:0,maximumFractionDigits:0});return this.createError({message:"Minimum allowed offer is: ".concat(e)})}return!0}}),buyerName:sC.Z_().required("Name is required"),buyerEmail:sC.Z_().email("Email is invalid").required("Email is required"),buyerContact:sC.Z_().required("Contact is required"),termsAccepted:sC.Xg().oneOf([!0],"Agree with the Terms and Conditions to proceed")}),sJ={maxOfferAmount:0,minOfferAmount:0,offerAmount:0,buyerName:"",buyerEmail:"",buyerContact:"",idCardAttachment:"",passportAttachment:"",termsAccepted:!1};function sY(e){let{property:s,onChatWithAdvisor:i}=e,t=(0,N.useRouter)(),{NoticeType:a,dispatchNotice:l}=(0,ep.k)(),[n]=(0,f.vs)(),o=(0,y.x)(),[m,p]=d.useState(!1),h=d.useMemo(()=>{let e=0,i=0,t=0,a=-20,l=10,n=60,r=90;if(s){e=(0,B.j4)(s.askingPrice),s.askingPriceCurrency,i=eq(s),t=eG(s);let o=eK(s);a=o.min,l=o.max,n=o.acceptanceMax,r=o.acceptanceMin}let o=(100+a)*e*.01,c=(100+l)*e*.01,d=l-a,m=Math.abs(a/d*100);return{askingPrice:Math.round(e),estimatedPrice:Math.round(i),sliderInitialValue:Math.round(t),minPercentage:a,maxPercentage:l,formattedMinPercentage:a.toFixed(1),minAllowedOffer:Math.round(o),formattedMaxPercentage:l.toFixed(1),maxAllowedOffer:Math.round(c),startPointLeftOffset:m>=0&&m<=100?m:50,maxAcceptanceProbability:n,minAcceptanceProbability:r}},[s]),v=async e=>{let i={...e,listingUrl:s.listingUrl,propertyId:s.propertyId,askingPrice:h.askingPrice,estimatedPrice:h.estimatedPrice,isDistressed:s.isDistressed,isOffMarket:!!s.isOffMarket},t=await n(i);p(!1),t.error?l(u.ki.makeOfferErrorToastMsg,{autoDismiss:!0,noticeType:a.error}):l(u.ki.makeOfferSuccessToastMsg,{autoDismiss:!0,noticeType:a.success})},x=s&&o?{maxOfferAmount:h.maxAllowedOffer,minOfferAmount:h.minAllowedOffer,offerAmount:h.sliderInitialValue,buyerName:[o.firstName,o.lastName].join(" ").trim(),buyerEmail:o.email,buyerContact:o.telephone||"",idCardAttachment:"",passportAttachment:"",termsAccepted:!1}:sJ,j=!!s.isSold;return(0,c.jsx)(sA,{title:"Love this property? Make it yours.",children:(0,c.jsx)("div",{className:"estimated-property-value",children:(0,c.jsxs)("div",{className:"row g-0",children:[(0,c.jsxs)("div",{className:"col-md-5",children:[(0,c.jsxs)("div",{className:"property-price",children:[(0,c.jsx)("div",{className:"label",children:"Asking Price"}),(0,c.jsx)("div",{className:"value",children:(0,c.jsx)(sh.Z,{value:h.askingPrice,currencyStr:s.askingPriceCurrency})})]}),(0,c.jsxs)("div",{className:"property-price estimated mt-3 mt-md-5",children:[(0,c.jsxs)("div",{className:"d-flex gap-1 align-items-center",children:[(0,c.jsx)("div",{className:"icon"}),(0,c.jsx)("div",{className:"label",children:"AI Estimated Market Value"})]}),(0,c.jsx)("div",{className:"value",children:(0,c.jsx)(sh.Z,{value:h.estimatedPrice,currencyStr:s.askingPriceCurrency})})]})]}),(0,c.jsxs)("div",{className:"col-md-7 mt-5 mt-md-0",children:[(0,c.jsxs)("div",{className:"offer-section",children:[(0,c.jsxs)("div",{className:"d-block col-6",children:[(0,c.jsx)("div",{className:"title",children:"Set your Ceiling Price\xa0"}),(0,c.jsx)("div",{className:"offer-hint",children:"Non-Binding. Our advisors will negotiate the best price."})]}),(0,c.jsx)(sS,{className:"p-0",variant:r.plain,label:"Chat with Advisors",onClick:i})]}),(0,c.jsxs)(S.l0,{initialValues:x,onSubmit:v,validationSchema:sU,enableReinitialize:!0,children:[(0,c.jsx)("div",{className:"pb-md-5",children:(0,c.jsx)(sE,{label:"Your Maximum Offer",name:"offerAmount",estimationConfig:h,onMakeOffer:()=>p(!0),disabled:j,currency:s.askingPriceCurrency})}),(0,c.jsx)(sB,{property:s,estimationConfig:h,show:m,onHide:()=>p(!1),onChatWithAdvisor:i,onClickEvaluate:()=>{s.propertyId&&(p(!1),t.push("/app/evaluation?propertyId=".concat(s.propertyId)))}})]})]})]})})})}function sH(e){let{property:s,onExpire:i}=e,t=ss({targetDateTime:s.activeUntil,onExpire:i});return(0,c.jsxs)(d.Fragment,{children:[(0,c.jsx)("span",{children:t.days}),"d\xa0",(0,c.jsx)("span",{children:t.hours}),"h\xa0",(0,c.jsx)("span",{children:t.minutes}),"m"]})}var sq=i(5984);let sG={arrows:!0,slidesToShow:1,slidesToScroll:1,className:"property-image-slider",prevArrow:(0,c.jsx)(e=>{let{onClick:s}=e;return(0,c.jsx)("button",{type:"button",className:"custom-arrow prev",onClick:s,children:(0,c.jsx)(P.J,{icon:"/icons/chevron-left-white.svg",size:20})})},{}),nextArrow:(0,c.jsx)(e=>{let{onClick:s}=e;return(0,c.jsx)("button",{type:"button",className:"custom-arrow next",onClick:s,children:(0,c.jsx)(P.J,{icon:"/icons/chevron-right-white.svg",size:20})})},{}),lazyLoad:"ondemand"};function sK(e){let{property:s,isMapMode:i=!1,isInitiallyExpanded:t=!1,shouldDisableShortlistConfirmation:a=!1,onToggleMapMode:l,onShortlist:n,onRemove:r,onChatWithAdvisor:o}=e,m=(0,M.s)(),{showModal:p,hideModal:h}=(0,b.d)(),[v,g]=d.useState(0),[N,f]=d.useState(!1),[y,w]=d.useState(!1),[k,C]=d.useState(t),[S,A]=d.useState(!1),I=()=>{h()},D=async()=>{if(n&&s.propertyId){let{propertyId:e,isShortlisted:i}=s,t=!i;t&&(w(!0),await n(e,t),w(!1)),!t&&(a||p(eH({onCancel:I,onRemove:async()=>{I(),w(!0),await n(e,t),w(!1)}})),a&&(w(!0),await n(e,t),w(!1)))}},_=async()=>{if(r&&s.propertyId){let{propertyId:e,isShortlisted:i,isSold:t}=s;i&&!t?p(eY({onCancel:I,onDelete:async()=>{I(),f(!0),await r(e),f(!1)}})):(I(),f(!0),await r(e),f(!1))}},{images:E,isShortlisted:T,isLoading:F,propertyType:R,cityName:O,countryName:z,askingPrice:V,askingPriceCurrency:Z,score:U,bedrooms:J,developmentStatus:Y,propertySize:H,fairMarketValue:q,rentalYield:G,mapCoordinates:K,isSold:X=!1,priceVsOriginalPrice:$,activeUntil:Q,isDistressed:ee,isOffMarket:es,originalPrice:ei=null}=s,et=!!(null==K?void 0:K.latitude)&&!!(null==K?void 0:K.longitude),ea=E.length,el=eJ(s),en=(0,W.cD)(J,"BR"),er=(0,B.RE)(V,!0,Z,!1,{maximumFractionDigits:0,minimumFractionDigits:0}),eo=ei?(0,B.RE)(ei,!0,Z,!1,{maximumFractionDigits:0,minimumFractionDigits:0}):null,ec=H?H.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}):0,ed=H?V/H:0,em=(0,W._E)(Y),ep=(0,B.zz)(q),eu=q>0?"text-danger":"text-success",eh=(0,B.Pg)(G),ev=(0,B.Pg)($);if(F)return(0,c.jsx)(sk,{property:s,onRemove:r,onShortlist:n,isPartialDataAvailable:!0});let ex=ee&&S,ej=ee&&X,eg=m?sb.q.default:void 0,eN=(0,W.lo)(s,eg);return(0,c.jsxs)("div",{className:"property-details-card-v2".concat(k?" extra-details-expanded":"").concat(X?" property-sold":"").concat(ee&&!S?" distressed-deal":"").concat(ee&&S?" distressed-deal expired":"").concat(es?" off-market":""),children:[(0,c.jsxs)("div",{className:"basic-property-details-container",children:[(0,c.jsxs)("div",{className:"property-image-section",children:[K&&i?(0,c.jsx)(sf.D,{coordinates:{lat:K.latitude,lng:K.longitude},propertyImage:{url:null==E?void 0:E[0],external:!0}}):(0,c.jsx)(e2.Z,{...sG,beforeChange:(e,s)=>{g(s)},children:(null==E?void 0:E.length)>0?E.map((e,s)=>(0,c.jsx)(sb.Z,{url:e,placeholderVariant:eN},s)):(0,c.jsx)(sb.Z,{url:"",placeholderVariant:eN})}),(0,c.jsx)("div",{className:"viginette-overlay"}),!i&&(0,c.jsxs)("div",{className:"controls-header",children:[ee&&(0,c.jsx)("div",{className:"col",children:(0,c.jsxs)("div",{className:"card-image-badge distressed-deal",children:[(0,c.jsx)(P.J,{icon:"/icons/noto_fire.svg",alt:"\uD83D\uDD25",size:14}),(0,c.jsx)("div",{className:"badge-text",children:"Distressed Deal"})]})}),es&&(0,c.jsx)("div",{className:"col",children:(0,c.jsxs)("div",{className:"card-image-badge off-market-property",children:[(0,c.jsx)(P.J,{icon:"/icons/sparkles.svg",alt:"",size:14}),(0,c.jsx)("div",{className:"badge-text",children:"Off Market"})]})}),!!ea&&(0,c.jsx)("div",{className:"col image-count-column",children:(0,c.jsxs)("span",{className:"image-count",children:[v+1," of ",ea]})}),(0,c.jsx)("div",{className:"col fs-control-btn-column",children:(0,c.jsx)("button",{type:"button",className:"control-icon-btn",children:(0,c.jsx)(P.J,{icon:"/icons/fullscreen-outline-white.svg",size:16,alt:"[]",onClick:()=>{p({modalType:"ImageViewModal",modalProps:{images:s.images,initialSlide:v,placeholder:s.isDistressed?sb.q.distressedDeals:void 0}})}})})})]}),(0,c.jsxs)("div",{className:"controls-footer",children:[(0,c.jsxs)("div",{className:"property-title-container",children:[(0,c.jsx)("div",{className:"title",children:el}),(0,c.jsx)("div",{className:"subtitle",children:R})]}),(0,c.jsxs)("div",{className:"controls-footer-md-location",children:[(0,c.jsx)(L.W,{countryName:z,hideName:!0}),(0,c.jsx)("div",{children:O})]}),!!et&&(0,c.jsx)("button",{type:"button",className:"control-icon-btn",children:(0,c.jsx)(P.J,{icon:i?"/icons/camera.svg":"/icons/map-location-outline-white.svg",size:16,alt:"v",onClick:l,backgroundColor:"#fff"})})]})]}),(0,c.jsxs)("div",{className:"property-info-section",children:[(0,c.jsxs)("div",{className:"price-score-row",children:[(0,c.jsxs)("span",{className:"price-container ".concat(ex||ej?"opacity-50":""),children:[X&&!ee&&(0,c.jsx)("div",{className:"sold-marker",children:"SOLD"}),ee&&(0,c.jsx)("span",{className:"starting-from-label",children:"Asking Price"}),(0,c.jsx)("span",{className:"currency",children:(0,c.jsx)(sh.Z,{value:null,currencyStr:Z})}),(0,c.jsx)("span",{className:"price ".concat(ee?"fw-medium":""),children:er})]}),!(ee||es)&&(0,c.jsxs)(sy.Z,{content:u.ki.propertyScoreTooltipContent,wrapperClassName:"score-container",children:[(0,c.jsx)("div",{className:"prop-ai-logo"}),(0,c.jsxs)("span",{className:"score",children:[(0,c.jsx)("span",{children:U}),(0,c.jsx)("span",{className:"percentage-symbol",children:"\xa0%"})]})]}),(ex||ej)&&(0,c.jsxs)("div",{className:"marker-container",children:[ex&&!ej&&(0,c.jsx)("div",{className:"sold-marker",children:"Expired"}),ej&&(0,c.jsx)("div",{className:"sold-marker",children:"Sold"})]})]}),ee&&(0,c.jsxs)("div",{className:"original-price-row mb-3 ".concat(ex||ej?"opacity-50":""),children:[(0,c.jsx)("span",{className:"fw-medium",children:"Original Price"}),"\xa0",(0,c.jsxs)("span",{children:[(0,c.jsx)("span",{className:"me-1",children:(0,c.jsx)(sh.Z,{value:null,currencyStr:Z})}),(0,c.jsx)("span",{children:eo})]})]}),(0,c.jsxs)("div",{className:"location-row",children:[(0,c.jsxs)("div",{className:"location-item",children:[(0,c.jsx)("div",{title:"Bedrooms",className:"item-icon beds"}),(0,c.jsx)("div",{children:en})]}),(0,c.jsxs)("div",{className:"location-item",children:[(0,c.jsx)("div",{title:"Property Area",className:"item-icon area"}),(0,c.jsxs)("div",{children:[ec||0," sqft"]})]}),(0,c.jsxs)("div",{className:"location-item",children:[(0,c.jsx)("div",{title:"Property Status",className:"item-icon dev-status"}),(0,c.jsx)("div",{children:em})]}),(0,c.jsxs)("div",{title:"Location",className:"location-item city-location",children:[(0,c.jsx)(L.W,{countryName:z,hideName:!0}),(0,c.jsx)("div",{children:O})]})]}),(0,c.jsxs)("div",{className:"md-metrics-summary",children:[(0,c.jsxs)("div",{className:"metric-container",children:[(0,c.jsx)("div",{className:"metric-title",children:"Price per Sqft"}),(0,c.jsxs)("div",{className:"metric-value",children:["AED"!==Z&&(0,c.jsxs)("span",{className:"sub",children:[(0,c.jsx)(sh.Z,{value:null,currencyStr:Z,decimals:2}),"\xa0"]}),(0,c.jsx)(sh.Z,{value:ed,currencyStr:Z,hideCurrencySymbol:"AED"!==Z,decimals:2})]})]}),ee&&(0,c.jsxs)("div",{className:"metric-container",children:[(0,c.jsx)("div",{className:"metric-title",children:"Price vs OP"}),(0,c.jsxs)("div",{className:"metric-value",children:[ev,"%"]})]}),(0,c.jsxs)("div",{className:"metric-container",children:[(0,c.jsx)("div",{className:"metric-title",children:"Price vs Market"}),(0,c.jsxs)("div",{className:"metric-value ".concat(eu),children:[ep,"%"]})]}),(0,c.jsxs)("div",{className:"metric-container",children:[(0,c.jsx)("div",{className:"metric-title",children:"Gross Rental Yield"}),(0,c.jsxs)("div",{className:"metric-value",children:[eh,"%"]})]})]}),(0,c.jsxs)("div",{className:"evaluation-summary",children:[(0,c.jsx)("div",{className:"summary-header",children:(0,c.jsx)("div",{className:"summary-title",children:"Key Metrics"})}),(0,c.jsxs)("div",{className:"desktop-metrics-summary",children:[(0,c.jsxs)("div",{className:"metric-container",children:[(0,c.jsx)("div",{className:"metric-title",children:"Price per Sqft"}),(0,c.jsxs)("div",{className:"metric-value",children:["AED"!==Z&&(0,c.jsxs)("span",{className:"sub",children:[(0,c.jsx)(sh.Z,{value:null,currencyStr:Z,decimals:2}),"\xa0"]}),(0,c.jsx)(sh.Z,{value:ed,currencyStr:Z,hideCurrencySymbol:"AED"!==Z,decimals:2})]})]}),ee&&(0,c.jsxs)("div",{className:"metric-container",children:[(0,c.jsx)("div",{className:"metric-title",children:"Price vs OP"}),(0,c.jsxs)("div",{className:"metric-value",children:[ev,"%"]})]}),(0,c.jsxs)("div",{className:"metric-container",children:[(0,c.jsx)("div",{className:"metric-title",children:"Price vs Market"}),(0,c.jsxs)("div",{className:"metric-value ".concat(eu),children:[ep,"%"]})]}),(0,c.jsxs)("div",{className:"metric-container",children:[(0,c.jsx)("div",{className:"metric-title",children:"Gross Rental Yield"}),(0,c.jsxs)("div",{className:"metric-value",children:[eh,"%"]})]})]})]}),(0,c.jsx)("div",{className:"md-actions-divider"}),(0,c.jsxs)("div",{className:"card-actions-row",children:[(0,c.jsx)("div",{className:"col-3 ".concat(ee&&Q&&!S?"":"d-none d-md-block"),children:ee&&!!Q&&!S&&(0,c.jsxs)("small",{className:"ps-2 opacity-75",children:["Expires in\xa0",(0,c.jsx)(sH,{property:s,onExpire:()=>A(!0)})]})}),(0,c.jsx)(x.default,{href:ee||es?"/app/evaluation?propertyId=".concat(s.propertyId,"&evaluationType=").concat(sq.x.deal):"/app/evaluation?propertyId=".concat(s.propertyId),className:"view-evaluation-btn",children:"View Evaluation"}),n&&(0,c.jsx)("button",{type:"button",className:"icon-action-btn",onClick:D,disabled:X||y,children:y?(0,c.jsx)(j.default,{height:28,width:28,src:"/icons/loading-spinner.svg",alt:"o",className:"loading-icon"}):(0,c.jsx)(P.J,{icon:T?"/icons/heart-filled-green.svg":"/icons/heart-outline-green.svg",size:28,alt:""})}),r&&(0,c.jsx)("button",{type:"button",className:"icon-action-btn",onClick:_,disabled:N,children:N?(0,c.jsx)(j.default,{height:28,width:28,src:"/icons/loading-spinner.svg",alt:"o",className:"loading-icon"}):(0,c.jsx)(P.J,{icon:"/icons/close-line-red.svg",size:28,alt:"x"})}),(0,c.jsx)("button",{type:"button",className:"icon-action-btn expand-icon",onClick:()=>{C(e=>!e)},children:(0,c.jsx)(P.J,{icon:"/icons/ri_arrow-left-double-line.svg",size:28,alt:"v"})})]})]})]}),(0,c.jsxs)("div",{className:"extra-property-details-container",children:[(0,c.jsx)("div",{className:"extra-details-divider"}),(0,c.jsx)("div",{className:"extra-property-details-container-inner",children:(0,c.jsx)(sY,{property:s,onChatWithAdvisor:o})})]})]})}function sX(e){let{children:s,show:i,onHide:t,variant:a="default"}=e,[l,n]=d.useState(!0),r=void 0===i?l:i;return(0,c.jsx)("div",{className:"closable-banner banner-".concat(a).concat(r?"":" collapsed"),children:(0,c.jsxs)("div",{className:"banner-inner",children:[(0,c.jsx)("button",{type:"button",className:"banner-close-btn",onClick:()=>{r&&n(!1),t&&t()}}),s]})})}function s$(e){let{image:s="/images/logo-mark-dark.svg",title:i="Coming Soon",content:t="Have Questions? Need More Information? Our Advisors Are Here to Help!",btnLabel:a="Chat with an Advisor Today!",onAction:l}=e,[n,r]=d.useState(!1),o=async()=>{l&&(r(!0),await l(),r(!1))};return(0,c.jsx)("div",{className:"coming-soon-card-wrapper",children:(0,c.jsxs)("div",{className:"coming-soon-card",children:[(0,c.jsx)("div",{style:{backgroundImage:"url(".concat(s,")")},className:"coming-soon-vector-dark"}),(0,c.jsx)("div",{className:"coming-soon-text",children:i}),(0,c.jsx)("div",{className:"coming-soon-sub-text",children:t}),!!l&&(0,c.jsx)("button",{type:"button",className:"coming-soon-action-btn",onClick:o,disabled:n,children:n?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e4.default,{size:"sm"}),(0,c.jsx)("span",{className:"ms-2",children:"Loading..."})]}):a})]})})}function sQ(e){let{onViewportEnter:s,onViewportLeave:i}=e;return(0,c.jsx)(H.E.div,{onViewportEnter:()=>{s&&s()},onViewportLeave:()=>{i&&i()}})}i(54052),(l=o||(o={})).info="info",l.success="success",l.error="error",l.warning="warning",l.default="default",sX.Title=function(e){let{children:s}=e;return(0,c.jsx)("div",{className:"banner-title",children:s})},i(82808);var s0=i(34008),s1=i(32208);let s2={min:0,max:100},s4={min:0,max:100};function s5(e){let{filters:s,setFilters:i,constraints:t={roi:s2,fmv:s4}}=e,a=e=>"".concat((0,B.Pg)(e),"%"),l=i?d.useCallback(J()(i,1e3),[i]):void 0,{fmv:n,roi:r}=t;return(0,c.jsx)(S.l0,{initialValues:s,onSubmit:()=>{},enableReinitialize:!0,children:(0,c.jsx)("div",{className:"container-fluid px-3",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.Ph,{name:"developmentStatus",options:ex,label:"Development Status",onChange:e=>{i&&i(s=>({...s,developmentStatus:e}))}})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.Ph,{name:"propertyType",options:ej,label:"Property Type",onChange:e=>{i&&i(s=>({...s,propertyType:e}))}})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.U2,{name:"fmvRange",label:"Fair Market Value",min:n.min,max:n.max,tooltipValueFormatter:a,step:.1,onChange:e=>{l&&l(s=>({...s,fmvRange:e}))}})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.U2,{name:"roiRange",label:"15 Year ROI",min:r.min,max:r.max,tooltipValueFormatter:a,step:.1,onChange:e=>{l&&l(s=>({...s,roiRange:e}))}})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.ro,{name:"minGrossRentalYield",label:"Minimum Gross Rental Yield",decimalPoints:1,suffix:" %",onChange:(e,s)=>{l&&l(e=>({...e,minGrossRentalYield:(0,B.j4)(s)}))}})})]})})})}function s6(e){let{selectedWatchlistId:s,onAction:i}=e,[t,a]=d.useState(!1),l=async()=>{i&&(a(!0),await i(),a(!1))};return(0,c.jsxs)("div",{className:"load-more-from-line-up-section",children:[(0,c.jsx)("div",{className:"load-more-from-line-up-title",children:s?"Load more properties for this Watchlist":"Load more properties for all active watchlists"}),(0,c.jsx)("div",{className:"load-more-from-line-up-actions",children:(0,c.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:l,disabled:t,children:t?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e4.default,{size:"sm"}),(0,c.jsx)("span",{className:"ms-2",children:"Loading..."})]}):"Load More Properties"})})]})}i(89900),i(14006);var s3=i(21652),s7=i.n(s3);i(3589);let s8={autoplay:!0,pauseOnHover:!0,dots:!0,arrows:!1,autoplaySpeed:5e3,slidesToShow:1,slidesToScroll:1,className:"distressed-deal-banner-slider",dotsClass:"banner-slider-dots d-flex"};function s9(e){let{onHideBanners:s}=e;return(0,c.jsxs)("div",{className:"distressed-deal-banners-content",children:[(0,c.jsx)(e2.Z,{...s8,children:(0,c.jsx)(si,{})}),(0,c.jsx)("button",{type:"button",className:"close-btn",onClick:s,children:(0,c.jsx)(P.J,{icon:"/icons/close.svg",alt:"x",backgroundColor:"#fff",size:20})})]})}i(88350);let ie=e=>{let{label:s,value:i,indicatorClassName:t=""}=e;return(0,c.jsxs)("div",{className:"deals-legend-record",children:[(0,c.jsxs)("div",{className:"record-indicator-container",children:[(0,c.jsx)("div",{className:"indicator ".concat(t)}),(0,c.jsx)("div",{className:"label",children:s})]}),(0,c.jsx)("div",{className:"value",children:i})]})},is=e=>{let{remainingPropertiesCount:s,offeredPropertiesCount:i,acceptedPropertiesCount:t,enableLegend:a=!1,isLoading:l=!1}=e,[n,r]=d.useState(!1),o=i+t+s,m=o>0?t/o*100:0,p=o>0?i/o*100:0;return(0,c.jsxs)("div",{className:"properties-overview-bar-wrapper".concat(l?" placeholder-glow":""),children:[(0,c.jsxs)("div",{className:"properties-overview-bar",children:[l&&(0,c.jsx)("div",{className:"placeholder w-100 rounded-pill"}),!l&&(0,c.jsxs)(Y.M,{children:[!!m&&(0,c.jsx)(H.E.div,{initial:{width:0},animate:{width:"".concat(m,"%")},className:"overview-bar-segment shortlisted"},"shortlisted-segment shortlisted"),!!p&&(0,c.jsx)(H.E.div,{initial:{width:0},animate:{width:"".concat(p,"%")},className:"overview-bar-segment viewing"},"shortlisted-segment viewing")]})]}),a&&(0,c.jsxs)(d.Fragment,{children:[(0,c.jsx)(P.J,{icon:"/icons/info-circle-outline-grey.svg",size:18,alt:"i",onClick:()=>r(!0)}),(0,c.jsxs)("div",{className:"overview-bar-legend-popup ".concat(n?"popup-visible":""),children:[(0,c.jsxs)("div",{className:"pop-up-header",children:[(0,c.jsx)("div",{className:"title",children:"Deals"}),(0,c.jsx)(P.J,{icon:"/icons/close.svg",size:16,alt:"x",onClick:()=>r(!1)})]}),(0,c.jsxs)("div",{className:"popup-body",children:[(0,c.jsx)(ie,{label:"Expired",value:s}),(0,c.jsx)(ie,{label:"Active",value:i,indicatorClassName:"showing"}),(0,c.jsx)(ie,{label:"Liked",value:t,indicatorClassName:"shortlisted"})]})]})]})]})};function ii(e){let{offeredPropertiesCount:s,acceptedPropertiesCount:i,remainingPropertiesCount:t,isLoading:a}=e,l=s+i+t,n=l>0?i/l*100:0,r=l>0?s/l*100:0;return(0,c.jsxs)("div",{className:"properties-overview-card",children:[(0,c.jsx)("div",{className:"properties-overview-card-header",children:(0,c.jsx)("div",{className:"title",children:"Deals Overview"})}),(0,c.jsxs)("div",{className:"properties-overview-card-body",children:[(0,c.jsx)(is,{acceptedPropertiesCount:i,offeredPropertiesCount:s,remainingPropertiesCount:t,isLoading:a}),(0,c.jsxs)("div",{className:"properties-overview-bar-labels",children:[!!n&&(0,c.jsxs)("div",{style:{flexBasis:"".concat(n,"%")},className:"properties-overview-bar-label shortlisted",children:["Liked ",i]}),!!r&&(0,c.jsxs)("div",{style:{flexBasis:"".concat(r,"%")},className:"properties-overview-bar-label viewing px-2",children:["Active ",s]}),!!t&&(0,c.jsxs)("div",{className:"properties-overview-bar-label flex-grow-1",children:["Expired ",t]})]})]})]})}var it=i(57685),ia=i.n(it);function il(e){let{dealsOverviewCounts:s,isOverviewLoading:i,isFiltersActive:t=!1,activeFilters:a}=e,l=(0,M.s)(),[n,r]=d.useState(!1),o=()=>{let{documentElement:e}=document;r(e.scrollTop>0)},{remaining:m,accepted:p,offered:u}=s,h=u+m+p;d.useEffect(()=>{if(l)return window.addEventListener("scroll",o),()=>{window.removeEventListener("scroll",o)};window.removeEventListener("scroll",o),r(!1)},[l]);let v=d.useMemo(()=>{let e=[];if(a){let{buildingName:s,propertyDealType:i,propertyType:t,showFavouritesOnly:l,priceRange:n}=a;t!==ev.value&&e.push(t),s!==ev.value&&e.push(ia()(G()(s))),i!==ev.value&&e.push(K.MV[i]||""),n!==ev.value&&e.push(K.X$[n]||""),l&&e.push("Favourites only")}return e},[a]);return(0,c.jsx)("div",{className:"property-type-dropdown-wrapper",children:(0,c.jsxs)("div",{className:"property-type-dropdown-selection-container",children:[(0,c.jsx)("div",{className:"card-header".concat(n?" extra-details-shrinked":""),children:(0,c.jsx)("div",{className:"property-type-name-row",children:t?(0,c.jsx)("div",{className:"property-type-name",children:"Filters Active"}):(0,c.jsx)("div",{className:"property-type-name",children:"All Deals are visible"})})}),(0,c.jsx)("div",{className:"shrinkable-controls".concat(n?" shrinked":""),children:(0,c.jsx)("div",{className:"card-body",children:t?(0,c.jsx)("div",{className:"all-watchlists-count",children:(0,c.jsx)("div",{className:"summary-parts",children:v.map((e,s)=>(0,c.jsx)("div",{className:"summary-part",children:e},s))})}):(0,c.jsx)("div",{className:"all-watchlists-count",children:"No Filters Applied"})})}),(0,c.jsxs)("div",{className:"mobile-only-controls d-md-none",children:[(0,c.jsx)("div",{className:"property-overview-md-container d-md-none",children:(0,c.jsx)(is,{offeredPropertiesCount:u,acceptedPropertiesCount:p,remainingPropertiesCount:m,isLoading:i,enableLegend:!0})}),(0,c.jsx)("div",{className:"property-overview-md-container",children:(0,c.jsxs)("div",{className:"overview-labels-container",children:[(0,c.jsx)("div",{children:"Expired"}),(0,c.jsxs)("div",{children:[u," of ",h]})]})})]})]})})}function ir(e){let{dealsOverviewCounts:s={offered:0,accepted:0,remaining:0},isOverviewLoading:i,activeFilters:t,isFiltersActive:a=!1}=e;return(0,c.jsxs)("div",{className:"row g-0 gap-3",children:[(0,c.jsx)("div",{className:"col-md-4",children:(0,c.jsx)(il,{activeFilters:t,dealsOverviewCounts:s,isOverviewLoading:i,isFiltersActive:a})}),(0,c.jsx)("div",{className:"col d-none d-md-block",children:(0,c.jsx)(ii,{offeredPropertiesCount:s.offered,acceptedPropertiesCount:s.accepted,remainingPropertiesCount:s.remaining,isLoading:i})})]})}i(58152);let io=[ev,...K.NF],ic=[ev,...K.mf];function id(e){let{filters:s,setFilters:i,constraints:t={buildingNameOptions:[]}}=e,a=i?d.useCallback(J()(i,1e3),[i]):void 0,{buildingNameOptions:l}=t,n=[ev].concat(l.map(e=>({value:e,label:ia()(G()(e))})));return(0,c.jsx)(S.l0,{initialValues:s,onSubmit:()=>{},enableReinitialize:!0,children:(0,c.jsx)("div",{className:"container-fluid px-3",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.Ph,{name:"propertyDealType",label:"Deal Type",options:ic,onChange:e=>{a&&a(s=>({...s,propertyDealType:e}))}})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.Ph,{name:"buildingName",options:n,label:"Building Name",onChange:e=>{i&&i(s=>({...s,buildingName:e}))}})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.Ph,{name:"propertyType",options:ej,label:"Property Type",onChange:e=>{i&&i(s=>({...s,propertyType:e}))}})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)(S.Ph,{name:"priceRange",options:io,label:"Property Price Range",onChange:e=>{a&&a(s=>({...s,priceRange:e}))}})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"d-flex gap-3 h-100 align-items-center",children:[(0,c.jsx)(S.rs,{name:"showFavouritesOnly",onValueChange:e=>{a&&a(s=>({...s,showFavouritesOnly:e}))}}),(0,c.jsx)("div",{className:"input-label my-4 my-md-0",children:"Show Favourites Only"})]})})]})})})}i(65304);let im=[n.propAIScore,n.roi],ip=eh.filter(e=>!im.includes(e));function iu(){let{userDistressedProperties:e,userDistressedPropertiesCounts:s,isUserDistressedPropertyCountsLoading:i,isUserDistressedPropertyCountsLoadingSuccess:t,isAdvertsEnabled:a,hideAdverts:l,activeDealsSortOption:n,setActiveDealsSortOption:r,mapVisiblePropertyId:o,toggleMapForPropertyById:m,selectedDealsPropertySliceSize:p,setSelectedDealsPropertySliceSize:u,advisorDetails:h,toggleInterestForDeal:v,dealsListFilterInputs:x,setDealsListFilterInputs:j}=e8(),g=d.useMemo(()=>{let s=eW(e.deals,x.propertyType,ev.value);return s=eF(s=eL(s=eR(s,x.buildingName,ev.value),x.propertyDealType,ev.value),x.priceRange),x.showFavouritesOnly&&(s=s.filter(e=>{let{isShortlisted:s}=e;return s})),eD(s,n)},[e,n,p,x]),N=g.slice(0,p),f=async(e,s)=>{await v(e,s)},{constraints:y,initialFilters:b}=d.useMemo(()=>{var s;let i=[],t=eT();if(null==e?void 0:null===(s=e.deals)||void 0===s?void 0:s.length){let{deals:s}=e;s.forEach(e=>{let{project:s}=e;s&&!i.includes(s)&&i.push(s)})}return{constraints:{buildingNameOptions:i},initialFilters:t}},[e]),w=s||{offered:0,accepted:0,remaining:0},k=e=>{if(h){let s=eJ(e),i=e.trakheesiPermitNumber,t=(0,s1.I)(h.name),a="Hi ".concat(t,"! I'd like to know more about the property titled: ").concat(s," (PAI-").concat(i,")");(0,s0.uE)(a,h.telephone)}},C=g.length-p,S=C>0?C:null,P=t&&0===w.remaining,A=!s7()(b,x);return(0,c.jsxs)("div",{className:"dashboard-deals-section",children:[(0,c.jsx)("div",{className:"container",children:(0,c.jsx)(Y.M,{children:a&&(0,c.jsx)(H.E.div,{exit:{opacity:0,overflow:"hidden",maxHeight:0},initial:{opacity:1,overflow:"hidden",maxHeight:"100vh"},children:(0,c.jsx)(s9,{onHideBanners:()=>{l()}})})})}),(0,c.jsxs)("div",{className:"container stickable-section-header",children:[(0,c.jsx)("div",{className:"mb-3 position-relative z-1",children:(0,c.jsx)(ir,{dealsOverviewCounts:w,isOverviewLoading:i,activeFilters:x,isFiltersActive:A})}),(0,c.jsx)("div",{className:"mb-4 mb-md-3 filter-row-container position-relative",children:(0,c.jsxs)("div",{className:"filter-row",children:[(0,c.jsx)(sg,{children:(0,c.jsx)(id,{filters:x,setFilters:j,constraints:y})}),(0,c.jsx)(sN,{options:ip,value:n,onChange:r})]})})]}),(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"mb-3 property-cards-container",children:(0,c.jsxs)(Y.M,{mode:"popLayout",children:[N.map((e,s)=>{let{propertyId:i}=e,t=i===o,a=s%V.cC;return(0,c.jsx)(H.E.div,{...eb(a),children:(0,c.jsx)(sK,{property:e,isMapMode:t,onShortlist:f,onToggleMapMode:()=>m(i),onChatWithAdvisor:()=>k(e),shouldDisableShortlistConfirmation:!0},i)},i)}),(0,c.jsx)(sQ,{onViewportEnter:()=>{g.length-p>0&&u(e=>e+V.cC)}}),null!==S&&(0,c.jsx)("div",{className:"row",children:!!S&&(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"text-center opacity-50 fs-6",children:["and ",S," More"," ",1===S?"Property...":"Properties..."]})})},"card-actions-row"),0===g.length&&P&&(0,c.jsx)(H.E.div,{initial:{opacity:0},animate:{opacity:1},children:(0,c.jsx)(s$,{image:"/images/no-shortlisted-properties.svg",title:"You are all caught up!",content:"It looks like there are no deals yet. Check back later!"})},"all-caught-up-card-on-deals")]})})})]})}i(71872);let ih=eN.findIndex(e=>"Search"===e);function iv(e){let{children:s}=e;return(0,c.jsxs)(d.Fragment,{children:[(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"dashboard-section-header",children:s})}),(0,c.jsx)("div",{className:"dashboard-section-header-divider"})]})}i(62799);let ix=eN.findIndex(e=>"Advisor"===e),ij=eN.findIndex(e=>"Advisor"===e);i(63450);let ig=[{component:function(){let{dispatchNotice:e,NoticeType:s}=(0,ep.k)(),i=(0,N.useRouter)(),{setIsSpinnerActive:t}=(0,em.Z)(),{showModal:a,hideModal:l}=(0,b.d)(),{userWatchlists:n,userWatchlistsPropertyCounts:r,isUserWatchlistPropertyCountsLoadingSuccess:m,userProperties:p,isAdvertsEnabled:h,hideAdverts:v,isActionEnabledPropertyTutorialBannerEnabled:x,hideActionEnabledPropertyTutorialBanner:j,activePropertiesSortOption:g,setActivePropertiesSortOption:y,propertyListFilterInputs:w,setPropertyListFilterInputs:k,selectedUserWatchlistId:C,setSelectedUserWatchlistId:S,toggleShortlistProperty:A,removePropertyFromList:I,mapVisiblePropertyId:M,toggleMapForPropertyById:D,selectedVisiblePropertySliceSize:_,setSelectedVisiblePropertySliceSize:E,advisorDetails:T,refreshPropertiesForSelectedWatchlist:F,loadMorePropertiesForSelectedWatchlist:R}=e8(),{filteredLoadingPropertiesByWatchlist:L,filteredSortedLoadedProperties:O}=d.useMemo(()=>{let{activePropertyList:e,loadingPropertyList:s,pendingProposalsCount:i}=p,t=i+s.length,a=eU(n,e,C),l=e_(a=eB(a,w),g,t,_);return{filteredLoadingPropertiesByWatchlist:eU(n,s,C),filteredSortedLoadedProperties:l}},[p,w,C,g,_]),W=d.useMemo(()=>eE(r.data,C),[r,C]),[z]=(0,f.YG)(),[Z]=(0,f.Zd)(),B=async i=>{t(!0),await Z({id:i}),S(null),e("Watchlist deleted successfully",{autoDismiss:!0,noticeType:s.success}),t(!1),l()},U=e=>{a({modalType:"ConfirmationModal",modalProps:{title:u.ki.deleteWatchlistConfirmationTitle,content:u.ki.deleteWatchlistConfirmationContent,onConfirm:()=>B(e)}})},J=async(e,s)=>{try{await z({watchlistId:e,toggleValue:s})}catch(e){}},q=()=>{l()},G=async e=>{await A(e,!0)},K=async e=>{await I(e)},X=()=>{i.push("/survey")},$=e=>{if(T){let s=eJ(e),i=e.trakheesiPermitNumber,t=(0,s1.I)(T.name),a="Hi ".concat(t,"! I'd like to know more about the property titled: ").concat(s," (PAI-").concat(i,")");(0,s0.uE)(a,T.telephone)}},{loadingPropertyList:Q=[],pendingProposalsCount:ee=0,latestProposalWatchlistId:es,isProposalRunning:ei}=p,et=Q.length+1,ea=et+ee+1,el=W.visible-_,en=el>0?el:null,er=null===C||C===es,eo=eA(r.data,C,O.visible.length),ec=er&&ei,ed=Array.from({length:ee}),eu=ec&&0===ee&&0===L.length,ev=eS(r.data,C),ex=eP(r.data),ej=!eu&&(ev||ex),eg=!ej&&m&&0===W.visible&&0===W.remaining;return(0,c.jsxs)("div",{className:"dashboard-search-section",children:[(0,c.jsx)("div",{className:"container",children:(0,c.jsx)(Y.M,{children:h&&(0,c.jsx)(H.E.div,{exit:{opacity:0,overflow:"hidden",maxHeight:0},initial:{opacity:1,overflow:"hidden",maxHeight:"100vh"},children:(0,c.jsx)(sl,{onHideBanners:()=>{v()}})})})}),(0,c.jsxs)("div",{className:"container stickable-section-header",children:[(0,c.jsx)("div",{className:"mb-3 position-relative z-1",children:(0,c.jsx)(sj,{propertyOverviewCounts:W,isOverviewLoading:r.isLoading,watchlists:n,activeWatchlistId:C,setActiveWatchlistId:S,onDeleteWatchlistData:U,onModifyWatchlistData:e=>{a({modalType:"WatchlistEditModal",modalProps:{id:e,onDelete:U}})},onToggleWatchlistCopilot:(e,s)=>{a(eC({watchlists:n,flag:s,onCancel:q,onToggle:async()=>{await J(e,s),q()}}))},onAddWatchlist:X})}),(0,c.jsx)("div",{className:"mb-4 mb-md-3 filter-row-container position-relative",children:(0,c.jsxs)("div",{className:"filter-row",children:[(0,c.jsx)(sg,{children:(0,c.jsx)(s5,{filters:w,setFilters:k})}),(0,c.jsx)(sN,{options:eh,value:g,onChange:y})]})})]}),(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{id:"property-cards-container",className:"mb-3 property-cards-container",children:[(0,c.jsxs)(sX,{variant:o.info,show:x,onHide:j,children:[(0,c.jsx)(sX.Title,{children:"Find the best properties faster with AI"}),(0,c.jsxs)("div",{className:"d-block lh-lg",children:["Let our AI know which Properties you like by clicking",(0,c.jsx)("div",{className:"d-inline-flex align-middle mx-2",children:(0,c.jsx)(P.J,{size:18,icon:"/icons/heart-outline-green.svg"})}),"and remove the ones you don't like by clicking",(0,c.jsx)("div",{className:"d-inline-flex align-middle mx-2",children:(0,c.jsx)(P.J,{size:18,icon:"/icons/close-line-red.svg"})}),". For each feeback a new listing from the To be Reviewed will be loaded. Keep exploring to find the best properties"]})]}),(0,c.jsxs)(Y.M,{mode:"popLayout",children:[(0,c.jsxs)("div",{className:"new-property-loading-indicator".concat(p.isUserActionTriggered||eu?" visible":""),children:[(0,c.jsx)("div",{className:"spinner"}),(0,c.jsx)("div",{className:"text-content",children:"Preparing new proposal for you. Please wait."})]}),L.map((e,s)=>(0,c.jsx)(H.E.div,{id:0===s?"tour-elem-first-removable-property":void 0,...eb(1+s),children:(0,c.jsx)(sK,{property:e,onRemove:()=>K(e.propertyId),onShortlist:()=>G(e.propertyId)})},"proposal_property_".concat(s))),er&&ed.map((e,s)=>(0,c.jsx)(H.E.div,{...eb(et+s),children:(0,c.jsx)(sk,{})},"pending_proposal_property_".concat(s,"_").concat(Date.now()))),Array.from(new Map(O.visible.map(e=>[e.listingUrl,e])).values()).map((e,s)=>{let{propertyId:i}=e,t=i===M,a=ea+s;return ec||(a=et+s%V.cC),(0,c.jsx)(H.E.div,{...eb(a),children:(0,c.jsx)(sK,{property:e,isMapMode:t,onRemove:()=>K(i),onShortlist:()=>G(i),onToggleMapMode:()=>D(i),onChatWithAdvisor:()=>$(e)},i)},i)}),eo&&(0,c.jsx)(H.E.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-3",children:(0,c.jsx)(s6,{selectedWatchlistId:C,onAction:R})},"load-more-from-line-up-section"),(0,c.jsx)(sQ,{onViewportEnter:()=>{W.visible-_>0&&E(e=>e+V.cC)}}),null!==en&&(0,c.jsx)("div",{className:"row",children:!!en&&(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"text-center opacity-50 fs-6",children:["and ",en," More"," ",1===en?"Property...":"Properties..."]})})},"card-actions-row"),0===ee&&0===O.visible.length&&eg&&(0,c.jsx)(H.E.div,{initial:{opacity:0},animate:{opacity:1},children:(0,c.jsx)(s$,{image:"/images/no-shortlisted-properties.svg",title:"You are all caught up!",content:"It looks like there are no properties yet. Start a new search and find the best properties to add to your list.",btnLabel:"New Search",onAction:X})},"all-caught-up-card-on-search"),0===O.visible.length&&ej&&(0,c.jsx)(H.E.div,{initial:{opacity:0},animate:{opacity:1},children:(0,c.jsx)(s$,{image:"/images/reload_properties.svg",title:"Let's Discover More for You!",content:(0,c.jsxs)("span",{children:["New properties are always coming in, and there's more to discover.",(0,c.jsx)("br",{}),"Let's find the best matches for you!"]}),btnLabel:"Show Me What's New",onAction:F})},"discover-more-card")]})]})})]})},key:"search-section-wrapper"},{component:function(){let e=(0,N.useRouter)(),{setIsSpinnerActive:s}=(0,em.Z)(),{showModal:i,hideModal:t}=(0,b.d)(),{userWatchlists:a,userProperties:l,userWatchlistsPropertyCounts:n,activePropertiesSortOption:r,setActivePropertiesSortOption:o,propertyListFilterInputs:m,setPropertyListFilterInputs:p,selectedUserWatchlistId:h,setActiveSectionIdx:v,toggleShortlistProperty:x,removePropertyFromList:j,mapVisiblePropertyId:g,toggleMapForPropertyById:y,selectedShortlistedPropertySliceSize:w,setSelectedShortlistedPropertySliceSize:k,advisorDetails:C,setSelectedUserWatchlistId:S}=e8(),A=d.useMemo(()=>{let{activePropertyList:e}=l,s=eU(a,e,h);return e_(s=eB(s,m),r,0,w)},[l,m,h,r,w]),I=d.useMemo(()=>eE(n.data,h),[n,h]),[M]=(0,f.YG)(),[D]=(0,f.Zd)(),_=()=>{v(ih)},E=async e=>{await x(e,!1)},T=async e=>{await j(e)},F=e=>{if(C){let s=eJ(e),i=e.trakheesiPermitNumber,t=(0,s1.I)(C.name),a="Hi ".concat(t,"! I'd like to know more about the property titled: ").concat(s," (PAI-").concat(i,")");(0,s0.uE)(a,C.telephone)}},R=async e=>{s(!0),await D({id:e}),s(!1),t()},L=e=>{i({modalType:"ConfirmationModal",modalProps:{title:u.ki.deleteWatchlistConfirmationTitle,content:u.ki.deleteWatchlistConfirmationContent,onConfirm:()=>R(e)}})},O=async(e,s)=>{try{await M({watchlistId:e,toggleValue:s})}catch(e){}},W=()=>{t()},z=0===A.shortlisted.length,Z=I.shortlisted-w,B=Z>0?Z:null,{loadingPropertyList:U=[]}=l,J=U.filter(e=>{let{isShortlisted:s}=e;return!!s}),q=J.length+1,G=J.length>0;return(0,c.jsxs)("div",{className:"dashboard-shortlist-section",children:[(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"shortlist-section-banner mt-3 mt-md-0",children:[(0,c.jsx)("div",{className:"banner-image-container",children:(0,c.jsx)("img",{src:"/images/shortlist-properties.svg",alt:" ",className:"banner-image"})}),(0,c.jsxs)("div",{className:"banner-content",children:[(0,c.jsx)("div",{className:"title",children:"Welcome to your Shortlist!"}),(0,c.jsxs)("div",{className:"description",children:["Properties marked as",(0,c.jsx)("span",{className:"mx-2",children:(0,c.jsx)(P.J,{icon:"/icons/heart-filled-green.svg"})}),"will be listed below.",(0,c.jsx)("span",{className:"d-none d-md-inline-block",children:"\xa0Keep exploring to find the best properties."})]}),(0,c.jsx)("button",{type:"button",className:"action-btn",onClick:_,children:"Explore More"})]})]})}),(0,c.jsxs)("div",{className:"container stickable-section-header",children:[(0,c.jsx)("div",{className:"mb-3 position-relative z-1",children:(0,c.jsx)(sj,{propertyOverviewCounts:I,isOverviewLoading:n.isLoading,watchlists:a,activeWatchlistId:h,setActiveWatchlistId:S,onDeleteWatchlistData:L,onModifyWatchlistData:e=>{i({modalType:"WatchlistEditModal",modalProps:{id:e,onDelete:L}})},onToggleWatchlistCopilot:(e,s)=>{i(eC({watchlists:a,flag:s,onCancel:W,onToggle:async()=>{await O(e,s),W()}}))},onAddWatchlist:()=>{e.push("/survey")}})}),(0,c.jsx)("div",{className:"mb-4 mb-md-3 filter-row-container position-relative",children:(0,c.jsxs)("div",{className:"filter-row",children:[(0,c.jsx)(sg,{children:(0,c.jsx)(s5,{filters:m,setFilters:p})}),(0,c.jsx)(sN,{options:eh,value:r,onChange:o})]})})]}),(0,c.jsxs)("div",{className:"container",children:[!z&&(0,c.jsx)("div",{className:"mb-3 property-cards-container",children:(0,c.jsxs)(Y.M,{mode:"popLayout",children:[J.map((e,s)=>(0,c.jsx)(H.E.div,{...eb(1+s),children:(0,c.jsx)(sK,{property:e,onRemove:()=>T(e.propertyId),onShortlist:()=>E(e.propertyId)})},"proposal_property_".concat(s))),A.shortlisted.map((e,s)=>{let{propertyId:i}=e,t=i===g,a=q+s;return G||(a=q+s%V.cC),(0,c.jsx)(H.E.div,{...eb(a),children:(0,c.jsx)(sK,{property:e,isMapMode:t,onRemove:()=>T(i),onShortlist:()=>E(i),onToggleMapMode:()=>y(i),onChatWithAdvisor:()=>F(e),isInitiallyExpanded:!0},i)},i)}),(0,c.jsx)(sQ,{onViewportEnter:()=>{A.shortlisted.length-w>0&&k(e=>e+V.cC)}}),null!==B&&(0,c.jsx)("div",{className:"row",children:!!B&&(0,c.jsx)("div",{className:"col-12",children:(0,c.jsxs)("div",{className:"text-center opacity-50 fs-6",children:["and ",B," More"," ",1===B?"Property...":"Properties..."]})})},"card-actions-row")]})}),z&&(0,c.jsx)("div",{className:"pt-5",children:(0,c.jsx)(s$,{image:"/images/no-shortlisted-properties.svg",title:"No Shortlisted Properties Yet",content:"It looks like you haven't shortlisted any properties yet. Start exploring and find the best properties to add to your list.",onAction:_,btnLabel:"Search Properties"})})]})]})},key:"shortlist-section-wrapper"},{component:function(){let{setActiveSectionIdx:e,isAdvertsEnabled:s,hideAdverts:i}=e8();return(0,c.jsx)("div",{className:"min-vh-100",children:(0,c.jsxs)("div",{className:"position-absolute start-0 end-0 h-75 d-flex flex-column bg-white",children:[(0,c.jsx)("div",{className:"d-block",children:(0,c.jsx)("div",{className:"d-md-none",children:(0,c.jsx)(iv,{children:"Buy"})})}),(0,c.jsx)("div",{className:"container",children:(0,c.jsx)(Y.M,{children:s&&(0,c.jsx)(H.E.div,{exit:{opacity:0,overflow:"hidden",maxHeight:0},initial:{opacity:1,overflow:"hidden",maxHeight:"100vh"},children:(0,c.jsx)(sl,{onHideBanners:i})})})}),(0,c.jsx)("div",{className:"flex-grow-1 d-flex align-items-center justify-content-center py-5",children:(0,c.jsx)(s$,{image:"/images/for-sale-vector.svg",onAction:()=>{ix>-1&&e(ix)}})})]})})},key:"buy-section-wrapper"},{component:function(){let{setActiveSectionIdx:e,isAdvertsEnabled:s,hideAdverts:i}=e8();return(0,c.jsx)("div",{className:"min-vh-100",children:(0,c.jsxs)("div",{className:"position-absolute start-0 end-0 h-75 d-flex flex-column bg-white",children:[(0,c.jsx)("div",{className:"d-block",children:(0,c.jsx)("div",{className:"d-md-none",children:(0,c.jsx)(iv,{children:"Mortgage"})})}),(0,c.jsx)("div",{className:"container",children:(0,c.jsx)(Y.M,{children:s&&(0,c.jsx)(H.E.div,{exit:{opacity:0,overflow:"hidden",maxHeight:0},initial:{opacity:1,overflow:"hidden",maxHeight:"100vh"},children:(0,c.jsx)(sl,{onHideBanners:i})})})}),(0,c.jsx)("div",{className:"flex-grow-1 d-flex align-items-center justify-content-center py-5",children:(0,c.jsx)(s$,{image:"/images/mortgage-vector.svg",title:"Simplify Your Mortgage Journey",content:"Tailored mortgage plans are coming soon, Contact our advisor for more details.",onAction:()=>{ij>-1&&e(ij)}})})]})})},key:"mortgage-section-wrapper"},{component:function(){let{isAdvertsEnabled:e,hideAdverts:s,advisorDetails:i}=e8(),t=(0,s1.I)(i.name),a="Beth Cole"===i.name?"Senior Business Development Manager":"Prop-AI Expert";return(0,c.jsxs)("div",{className:"dashboard-advisor-section",children:[(0,c.jsx)("div",{className:"container",children:(0,c.jsx)(Y.M,{children:e&&(0,c.jsx)(H.E.div,{exit:{opacity:0,overflow:"hidden",maxHeight:0},initial:{opacity:1,overflow:"hidden",maxHeight:"100vh"},children:(0,c.jsx)(sl,{onHideBanners:()=>{s()}})})})}),(0,c.jsx)("div",{className:"d-md-none",children:(0,c.jsx)(iv,{children:"Advisor"})}),(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"mb-3",children:(0,c.jsx)("div",{className:"advisor-details-wrapper",children:(0,c.jsxs)("div",{className:"advisor-details",children:[(0,c.jsxs)("div",{className:"advisor-avatar-info",children:[(0,c.jsxs)("div",{className:"advisor-avatar-container",children:[(0,c.jsx)("div",{className:"avatar-placeholder"}),(0,c.jsx)("img",{src:i.image,alt:" ",className:"advisor-avatar"})]}),(0,c.jsx)("div",{className:"advisor-name",children:i.name}),(0,c.jsx)("div",{className:"advisor-designation",children:a})]}),(0,c.jsx)("div",{className:"advisor-greeting",children:"Hello! I'm your personal real estate agent. Whether you're buying, selling, or investing, I have got you covered. Let's find your dream property together. Chat with me to get started!"}),(0,c.jsxs)("button",{type:"button",className:"advisor-action-btn whatsapp-btn",onClick:()=>{(0,s0.uE)("Hi ".concat(t,"! I'd like to know more about..."),i.telephone)},children:[(0,c.jsx)("div",{className:"action-btn-icon"}),(0,c.jsx)("div",{children:"Chat Now"})]}),(0,c.jsxs)("button",{type:"button",className:"advisor-action-btn primary-btn",onClick:()=>{(0,s0.s6)()},children:[(0,c.jsx)("div",{className:"action-btn-icon"}),(0,c.jsx)("div",{children:"Book a Call"})]}),(0,c.jsxs)("button",{type:"button",className:"advisor-action-btn outlined-btn",onClick:()=>{(0,s0.K$)({body:"Hi ".concat(t,"! I'd like to know more about..."),email:i.email})},children:[(0,c.jsx)("div",{className:"action-btn-icon"}),(0,c.jsx)("div",{children:"Email to Me"})]})]})})})})]})},key:"advisor-section-wrapper"}],iN={sectionTabsConfig:{sections:ig,tabs:eN,tabsWithIcons:eg},userWatchlists:[],userWatchlistsPropertyCounts:{data:{},isLoading:!0},isUserWatchlistPropertyCountsLoadingSuccess:!1,userProperties:{activePropertyList:[],loadingPropertyList:[],pendingProposalsCount:0,latestProposalWatchlistId:null,isUserActionTriggered:!1,isProposalRunning:!1},userDistressedProperties:{isDealsAccessGranted:!1,deals:[]},isDashboardBannerStateLoading:!0,isUserDistressedPropertyCountsLoading:!0,isUserDistressedPropertyCountsLoadingSuccess:!1,advisorDetails:e0,selectedVisiblePropertySliceSize:V.cC,setSelectedVisiblePropertySliceSize:()=>{},selectedShortlistedPropertySliceSize:V.bl,setSelectedShortlistedPropertySliceSize:()=>{},selectedDealsPropertySliceSize:V.bl,setSelectedDealsPropertySliceSize:()=>{},activeSectionIdx:0,setActiveSectionIdx:()=>{},activePropertiesSortOption:n.newest,setActivePropertiesSortOption:()=>{},activeDealsSortOption:n.newest,setActiveDealsSortOption:()=>{},propertyListFilterInputs:{developmentStatus:ev.value,propertyType:ev.value,fmvRange:[0,0],roiRange:[0,0],minGrossRentalYield:0},setPropertyListFilterInputs:()=>{},dealsListFilterInputs:{buildingName:ev.value,propertyType:ev.value,propertyDealType:ev.value,priceRange:ev.value,showFavouritesOnly:!1},setDealsListFilterInputs:()=>{},selectedUserWatchlistId:null,setSelectedUserWatchlistId:()=>{},toggleShortlistProperty:async()=>{},removePropertyFromList:async()=>{},mapVisiblePropertyId:null,toggleMapForPropertyById:()=>{},isAdvertsEnabled:!0,hideAdverts:()=>{},isActionEnabledPropertyTutorialBannerEnabled:!0,hideActionEnabledPropertyTutorialBanner:()=>{},distressedPropertyTypeFilter:null,setDistressedPropertyTypeFilter:()=>{},toggleInterestForDeal:async()=>{},loadMorePropertiesForSelectedWatchlist:async()=>{},refreshPropertiesForSelectedWatchlist:async()=>{}},iy=d.createContext(iN);function ib(e){let{children:s}=e,i=(0,y.b)(),{dispatchErrorNotice:t}=(0,ep.k)(),{setIsSpinnerActive:a}=(0,em.Z)(),{state:l,setter:n}=eu({key:V.Rq,defaultValue:String(iN.isAdvertsEnabled)}),{state:r,setter:o}=eu({key:V.d3,defaultValue:String(iN.isActionEnabledPropertyTutorialBannerEnabled)}),m=!!JSON.parse(l),p=!!JSON.parse(r),[u,h]=(0,e1.T)({key:"activeTab",defaultValue:"Search"}),[x,j]=d.useState(!1),[g,N]=d.useState(iN.activePropertiesSortOption),[b,w]=d.useState(iN.activeDealsSortOption),[k,C]=d.useState(iN.propertyListFilterInputs),[S,P]=d.useState(iN.dealsListFilterInputs),[A,I]=d.useState(iN.selectedUserWatchlistId),[M,D]=d.useState(iN.userProperties),[_,E]=d.useState(iN.mapVisiblePropertyId),[T,F]=d.useState(iN.userWatchlistsPropertyCounts.isLoading),[R,L]=d.useState(iN.selectedVisiblePropertySliceSize),[O,W]=d.useState(iN.selectedShortlistedPropertySliceSize),[z,Z]=d.useState(iN.selectedDealsPropertySliceSize),[U,J]=d.useState(iN.distressedPropertyTypeFilter),{data:Y}=(0,f.UV)({},{skip:!i}),{data:H}=(0,f.d4)({},{skip:!i}),[q,{data:G=[]}]=(0,f.UK)({}),[K,{data:X,isSuccess:$}]=(0,f.ek)({}),[Q]=(0,f.RQ)({}),{data:ee}=(0,f.cX)({},{skip:!i}),{data:es,isLoading:ei,isSuccess:et}=(0,f.xI)({},{skip:!(i&&(null==ee?void 0:ee.isDealsAccessGranted))}),{data:ea,isFetching:el}=(0,f.r1)({},{skip:!i}),[en]=(0,f.uL)(),[er]=(0,f.AH)(),[eo]=(0,f.cm)(),[ec]=(0,f.C9)(),[ed]=(0,f.OO)(),[eh]=(0,f.sd)(),ev=d.useMemo(()=>{let e=eg.slice(),s=ig.slice();return(null==ee?void 0:ee.isDealsAccessGranted)&&(e.splice(1,0,ef),s.splice(1,0,{component:iu,key:"deals-section-wrapper"})),{tabsWithIcons:e,tabs:e.map(e=>{let{title:s}=e;return s}),sections:s}},[null==ee?void 0:ee.isDealsAccessGranted]),ex=async()=>{try{a(!0),await q({})}catch(e){t("Unable to fetch Watchlists. Unexpected error occurred.")}finally{a(!1)}},ej=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e||F(!0),await K({})}catch(e){t("Unable to fetch property counts data. Unexpected error occurred.")}finally{F(!1)}},eN=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{e||a(!0);let i=await Q({});if(i.isSuccess&&(null==i?void 0:i.data)){let{activePropertyList:e,loadingPropertyList:t,pendingProposalCount:a,latestProposalWatchlistId:l,isUserActionTriggered:n,isProposalRunning:r}=i.data,o=eI(e),c=eI(t);if(D({activePropertyList:o,loadingPropertyList:c,latestProposalWatchlistId:l||null,isUserActionTriggered:!!n,pendingProposalsCount:(0,B.j4)(a),isProposalRunning:!!r}),s){let e=eM(o,k);C(e)}c.length&&!x&&j(!0)}else D(iN.userProperties)}catch(e){t("Unable to fetch Properties. Unexpected error occurred.")}finally{e||a(!1),await ej(e)}},ey=async()=>{await ex(),await eN(!1,!0)},eb=()=>{let e=(0,v.io)("https://prod-websocket.prop-ai.com/",{path:"/socket/socket.io",transports:["websocket","polling"],withCredentials:!0,autoConnect:!1,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5});return e.on("automaticProposals",()=>{eN(!0,!0)}),e},ew=async(e,s)=>{try{await er({propertyId:e,flag:s}),await eN(!0)}catch(e){t("Unable to update the property. Unexpected error occurred.")}},ek=async e=>{try{await eo({propertyId:e}),await eN(!0)}catch(e){t("Unable to delete the property. Unexpected error occurred.")}},eC=async(e,s)=>{try{await ec({propertyId:e,flag:s})}catch(e){t("Unable to update the deal. Unexpected error occurred.")}},eS=async()=>{let e="Something went wrong. Please try again later.";try{let s=await ed({watchlistId:A||void 0}),i=se(s);if(i){let i=e9(s);t(i||e,{autoDismiss:!0})}if(!i){await eN(!0,!0);let e=document.getElementById("property-cards-container");e&&window.scrollTo({top:e.offsetTop-150})}}catch(s){t(e,{autoDismiss:!0})}},eP=async()=>{let e="Something went wrong. Please try again later.";try{let s=await eh({watchlistId:A||void 0}),i=se(s);if(i){let i=e9(s);t(i||e,{autoDismiss:!0})}i||await eN(!0,!0)}catch(s){t(e,{autoDismiss:!0})}},eA=ev.tabs.findIndex(e=>e===u),eD={sectionTabsConfig:ev,userWatchlists:G,userWatchlistsPropertyCounts:{data:null!=X?X:{},isLoading:T},isUserWatchlistPropertyCountsLoadingSuccess:$,userProperties:M,userDistressedProperties:null!=ee?ee:iN.userDistressedProperties,userDistressedPropertiesCounts:es,isUserDistressedPropertyCountsLoading:ei,isUserDistressedPropertyCountsLoadingSuccess:et,advisorDetails:H||iN.advisorDetails,dashboardBannerState:ea,isDashboardBannerStateLoading:el,selectedVisiblePropertySliceSize:R,setSelectedVisiblePropertySliceSize:L,selectedShortlistedPropertySliceSize:O,setSelectedShortlistedPropertySliceSize:W,selectedDealsPropertySliceSize:z,setSelectedDealsPropertySliceSize:Z,activeSectionIdx:eA,setActiveSectionIdx:e=>{h(ev.tabs[e])},activePropertiesSortOption:g,setActivePropertiesSortOption:N,activeDealsSortOption:b,setActiveDealsSortOption:w,propertyListFilterInputs:k,setPropertyListFilterInputs:C,dealsListFilterInputs:S,setDealsListFilterInputs:P,selectedUserWatchlistId:A,setSelectedUserWatchlistId:I,distressedPropertyTypeFilter:U,setDistressedPropertyTypeFilter:J,mapVisiblePropertyId:_,isAdvertsEnabled:m,hideAdverts:()=>{n(String(!iN.isAdvertsEnabled))},isActionEnabledPropertyTutorialBannerEnabled:p&&x,hideActionEnabledPropertyTutorialBanner:()=>{o(String(!iN.isActionEnabledPropertyTutorialBannerEnabled))},toggleMapForPropertyById:e=>{let s=null!=e?e:null;e===_&&(s=null),E(s)},toggleShortlistProperty:ew,removePropertyFromList:ek,toggleInterestForDeal:eC,loadMorePropertiesForSelectedWatchlist:eS,refreshPropertiesForSelectedWatchlist:eP};return d.useEffect(()=>{let e=eb();if(Y){if(ey(),!e.connected){e.connect();let s=localStorage.getItem(V.LI);s&&e.emit("dashboardSessionInit",{token:s})}en({})}return()=>{e.connected&&e.disconnect()}},[Y]),(0,c.jsx)(iy.Provider,{value:eD,children:s})}function iw(){let[e,s]=d.useState(!1),i=()=>{window.scrollY>100?s(!0):s(!1)};return d.useEffect(()=>(window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i)}),[]),(0,c.jsx)("button",{type:"button",className:"scroll-to-top-btn ".concat(e?"visible":""),onClick:()=>window.scrollTo({top:0,behavior:"smooth"})})}i(36281),i(22619);let ik={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function iC(){return(0,c.jsx)(ib,{children:(0,c.jsx)(iS,{})})}function iS(){var e,s;let{activeSectionIdx:i,setActiveSectionIdx:t,sectionTabsConfig:a}=e8(),{sections:l,tabs:n,tabsWithIcons:r}=a,o=(null===(e=l[i])||void 0===e?void 0:e.component)||(()=>null),d=null===(s=l[i])||void 0===s?void 0:s.key;return(0,c.jsxs)("div",{className:"dashboard-page-v2",children:[(0,c.jsx)("div",{className:"container section-tabs-container",children:(0,c.jsx)("div",{className:"d-none d-md-block",children:(0,c.jsx)("div",{className:"py-3",children:(0,c.jsx)(ec.Z,{activeTabIdx:i,setActiveTabIdx:t,tabs:n})})})}),(0,c.jsx)(Y.M,{mode:"wait",children:(0,c.jsx)(H.E.div,{...ik,children:(0,c.jsx)(o,{})},d)}),(0,c.jsx)(iw,{}),(0,c.jsx)("div",{className:"d-block d-md-none",children:(0,c.jsx)(ed,{items:r,activeItemIdx:i,setActiveItem:t})})]})}function iP(){let{isEnabled:e,isLoading:s}=(0,p.J)(u.mV.dashboardV2);return s?(0,c.jsx)(m.Z,{}):e?(0,c.jsx)(iC,{}):(0,c.jsx)(eo,{})}function iA(){return(0,c.jsx)(iP,{})}},14442:function(e,s,i){"use strict";i.d(s,{Z:function(){return a}});var t=i(57437);function a(e){let{children:s,isLoading:i=!1}=e;return(0,t.jsx)("div",{className:"prop-ai-summary-banner-wrapper ".concat(i?" loading":""),children:(0,t.jsx)("div",{className:"prop-ai-summary-banner",children:(0,t.jsx)("div",{className:"prop-ai-summary-banner-content",children:s})})})}i(2265),i(63210)},37893:function(e,s,i){"use strict";i.d(s,{Z:function(){return l}});var t=i(57437);i(2265);var a=i(10279);function l(e){let{wrapperClassName:s="",loadingText:i="Loading..."}=e;return(0,t.jsx)("div",{className:"in-page-activity-indicator ".concat(s),children:(0,t.jsxs)("div",{className:"indicator-content",children:[(0,t.jsx)(a.default,{variant:"primary"}),(0,t.jsx)("span",{className:"loading-text",children:i})]})})}i(50617)},31034:function(e,s,i){"use strict";i.d(s,{Z:function(){return l}});var t=i(57437),a=i(2265);function l(e){let s,{seconds:i,onEnd:l,className:n}=e,[r,o]=a.useState(i),c=()=>{s=setInterval(()=>{r>0&&o(e=>e-1)},1e3)},d=a.useCallback(()=>{clearInterval(s)},[s]);a.useEffect(()=>(c(),()=>{d()}),[]),a.useEffect(()=>{r<=0&&l&&l()},[r]);let m="0:".concat(r<10?"0".concat(r):r);return(0,t.jsx)("div",{className:n,children:m})}},31908:function(e,s,i){"use strict";i.d(s,{Z:function(){return t.Z}});var t=i(31034)},63333:function(e,s,i){"use strict";i.d(s,{b:function(){return o}});var t=i(57437),a=i(33145);i(2265);var l=i(32491),n=i(62058),r=i(18848);function o(e){let{content:s,icon:i="/icons/information-circle-outline.svg",placement:o,size:c=24}=e,d="string"==typeof s;return(0,t.jsx)(n.Z,{delay:{show:250,hide:0},placement:o,overlay:e=>d?(0,t.jsx)(l.Z,{...e,children:(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:r.Z.sanitize(s)}})}):(0,t.jsx)(l.Z,{...e,children:s}),children:(0,t.jsx)("button",{type:"button",className:"border-0 bg-transparent p-0",children:(0,t.jsx)(a.default,{role:"button",src:i,alt:"i",width:c,height:c})})})}i(70990)},25898:function(e,s,i){"use strict";i.d(s,{D:function(){return c}});var t=i(57437),a=i(2265),l=i(91964),n=i(33145),r=i(41317);i(34607);let o="/images/default-city-image.webp";var c=e=>{let{coordinates:s,propertyImage:i,initialZoom:c=10}=e,d=(0,a.useId)(),[m,p]=(0,a.useState)(10),[u,h]=(0,a.useState)(!1),[v,x]=a.useState(!1),j=()=>{h(!u),p(u?c:15)},g=(0,r.mS)(i)||o;return(0,t.jsx)("div",{className:"google-map-section-wrapper",children:(0,t.jsx)("div",{className:"google-map-section",children:(0,t.jsx)(l.KJ,{googleMapsApiKey:"AIzaSyD6Vrx0JN_w-CwgwxgYXr_Ikarz2YJYZvc",children:(0,t.jsx)(l.b6,{id:d,mapContainerClassName:"google-map-container",center:s,zoom:m,mapContainerStyle:{width:"100%",height:"100%"},options:{zoom:u?18:10,center:s,fullscreenControl:!1,mapTypeControl:!1,zoomControl:!1,streetViewControl:!1},children:(0,t.jsx)(l.xT,{position:s,mapPaneName:l.xT.OVERLAY_MOUSE_TARGET,children:(0,t.jsxs)("div",{className:"google-map-overlay",children:[(0,t.jsx)("div",{className:"google-map-img-wrapper",children:v?(0,t.jsx)(n.default,{role:"button",src:o,width:50,height:50,alt:"",onClick:j,className:"overlay-image"}):(0,t.jsx)(n.default,{role:"button",loader:()=>g,src:g,width:50,height:50,alt:"",onClick:j,className:"overlay-image",onError:()=>{x(!0)},onLoad:()=>{x(!1)}})}),(0,t.jsx)("div",{className:"point-triangle"})]})})})})})})}},95693:function(e,s,i){"use strict";i.d(s,{Z:function(){return a}});var t=i(57437);function a(e){let{activeTabIdx:s,tabs:i=[],setActiveTabIdx:a,bottomBorderHidden:l=!1}=e;return(0,t.jsx)("div",{className:"tabs-container-wrapper ".concat(l?"disable-after-style":""),children:(0,t.jsx)("div",{className:"tabs-container",children:i.map((e,i)=>(0,t.jsxs)("button",{type:"button",className:"tabs-item ".concat(s===i?"active":""),onClick:()=>a(i),children:[(0,t.jsx)("div",{className:"tabs-item-label",children:e}),(0,t.jsx)("div",{className:"tabs-item-marker"})]},e))})})}i(2265),i(98490)},66538:function(e,s,i){"use strict";i.d(s,{Z:function(){return t.Z}});var t=i(95693)},682:function(e,s,i){"use strict";i.d(s,{Z:function(){return r}});var t=i(57437);i(2265);var a=i(32491),l=i(62058),n=i(18848);function r(e){let{content:s,placement:i="auto",children:r,wrapperClassName:o}=e;if(!r)return null;if(!s)return r;let c="string"==typeof s;return(0,t.jsx)(l.Z,{delay:{show:250,hide:0},placement:i,overlay:e=>c?(0,t.jsx)(a.Z,{...e,children:(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:n.Z.sanitize(s)}})}):(0,t.jsx)(a.Z,{...e,children:s}),children:(0,t.jsx)("div",{className:"tooltip-target-wrapper ".concat(o),children:r})})}i(82594)},98864:function(e,s,i){"use strict";i.d(s,{W:function(){return a},i:function(){return t}});let t="971507767324",a="support@prop-ai.com"},91524:function(e,s,i){"use strict";i.d(s,{v:function(){return l}});var t=i(2265),a=i(94215);let l=()=>{let{marketReportMetaData:e,isMarketReportMetaDataLoading:s,isMarketReportDownloadLoading:i,onDownloadMarketReport:l}=t.useContext(a.e);return{marketReportMetaData:e,isMarketReportMetaDataLoading:s,isMarketReportDownloadLoading:i,downloadReport:l}}},75524:function(e,s,i){"use strict";i.d(s,{k:function(){return r}});var t=i(2265),a=i(11763),l=i(67386);let n={dismissable:!0,autoDismiss:!1,autoDismissTimeout:5e3,noticeType:l.OR.info},r=()=>{let{notices:e,setNotices:s}=t.useContext(a.r),i=(i,t)=>{let a={...n,...t},l={noticeId:"notice_".concat(e.length,"_").concat(new Date().getTime()),content:i,type:a.noticeType,dismissable:!a.autoDismiss&&a.dismissable},r=[...e,l];a.autoDismiss&&setTimeout(()=>{s(e=>{let s=e.slice();return s.splice(0,1),s})},a.autoDismissTimeout),s(r)};return{NoticeType:l.OR,notices:e,setNotices:s,dispatchNotice:i,dispatchErrorNotice:(e,s)=>{i(e,{...s,noticeType:l.OR.error})},dismissNotice:i=>{let t=e.slice();t.splice(i,1),s(t)}}}},87475:function(e,s,i){"use strict";i.d(s,{J:function(){return l}});var t=i(2265),a=i(81324);let l=e=>{let{enabledFeatures:s,isLoading:i}=(0,t.useContext)(a.u),l=!!e&&null!=s&&!!s.length&&s.includes(e);return{enabledFeatures:s,isLoading:i,isEnabled:l}}},17847:function(e,s,i){"use strict";i.d(s,{T:function(){return l}});var t=i(2265),a=i(99376);let l=e=>{let{key:s,defaultValue:i}=e,l=(0,a.useRouter)(),n=(0,a.usePathname)(),r=(0,a.useSearchParams)(),o=t.useCallback(e=>{let i=new URLSearchParams(r.toString());i.set(s,e);let t=!!Array.from(i.keys()).length,a="".concat(n).concat(t?"?".concat(i.toString()):"");l.push(a)},[r]);return[r.get(s)||i||"",o]}},46496:function(e,s,i){"use strict";i.d(s,{s:function(){return a}});var t=i(2265);let a=()=>{let[e,s]=t.useState(!1);return t.useEffect(()=>{let e=()=>{s(window.innerWidth<=768)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e}},94215:function(e,s,i){"use strict";i.d(s,{Z:function(){return c},e:function(){return o}});var t=i(57437),a=i(2265),l=i(11509),n=i(60097),r=i(55561);let o=a.createContext({marketReportMetaData:null,isMarketReportMetaDataLoading:!1,isMarketReportDownloadLoading:!1,onDownloadMarketReport:async()=>{}});function c(e){let{children:s}=e,i=(0,l.b)(),{data:a,isLoading:c}=(0,n.aM)({}),[d,{isLoading:m}]=(0,n.SP)(),p=async()=>{if(i)try{var e;let s=await d({});if(null==s?void 0:null===(e=s.data)||void 0===e?void 0:e.downloadUrl){let{downloadUrl:e}=s.data;(0,r.Yn)(e)}}catch(e){}};return(0,t.jsx)(o.Provider,{value:{marketReportMetaData:a||null,isMarketReportMetaDataLoading:c,isMarketReportDownloadLoading:m,onDownloadMarketReport:p},children:s})}},11763:function(e,s,i){"use strict";i.d(s,{Z:function(){return r},r:function(){return n}});var t=i(57437),a=i(2265);let l={notices:[],setNotices:()=>{}},n=a.createContext(l);function r(e){let{children:s}=e,[i,r]=a.useState(l.notices);return(0,t.jsx)(n.Provider,{value:{notices:i,setNotices:r},children:s})}},81324:function(e,s,i){"use strict";i.d(s,{Z:function(){return c},u:function(){return o}});var t=i(57437),a=i(2265),l=i(11509),n=i(60097);let r={enabledFeatures:[],isLoading:!0},o=a.createContext(r);function c(e){var s;let{children:i}=e,a=(0,l.b)(),{data:c,isSuccess:d,isError:m}=(0,n.UV)({},{skip:!a}),p=c?{enabledFeatures:null!==(s=null==c?void 0:c.features)&&void 0!==s?s:[],isLoading:!c&&!(d||m)}:r;return(0,t.jsx)(o.Provider,{value:p,children:i})}},97461:function(e,s,i){"use strict";i.d(s,{B:function(){return r},D:function(){return n}});var t=i(14506);let a={propertiesToCompare:[],parameters:[{mortgage:0,usage:"Long-Term",holding_period:15},{mortgage:0,usage:"Long-Term",holding_period:15},{mortgage:0,usage:"Long-Term",holding_period:15}],options:[{use_dollars:!1,ratio_type:"value",custom_mortgage_amount:!1,custom_mortgage_rate:!1,custom_annual_rental_yield:!1,custom_annual_mortgage_repayment:!1,custom_transaction_cost:!1},{use_dollars:!1,ratio_type:"value",custom_mortgage_amount:!1,custom_mortgage_rate:!1,custom_annual_rental_yield:!1,custom_annual_mortgage_repayment:!1,custom_transaction_cost:!1},{use_dollars:!1,ratio_type:"value",custom_mortgage_amount:!1,custom_mortgage_rate:!1,custom_annual_rental_yield:!1,custom_annual_mortgage_repayment:!1,custom_transaction_cost:!1}],detailedExpenses:"none",assumptions:[],initialBenchmark:{price_sqm_benchmark:[null,null,null],rental_yield:[null,null,null]}},l=(0,t.oM)({name:"properties",initialState:a,reducers:{setPropertiesToCompare:(e,s)=>{let{payload:i}=s;e.propertiesToCompare=i},pushPropertyToCompare:(e,s)=>{let{payload:i}=s,t=e.propertiesToCompare.slice();t.push(i),e.propertiesToCompare=t},removePropertyById:(e,s)=>{let{payload:i}=s,t=e.propertiesToCompare.slice(),l=t.findIndex(e=>{let{id:s}=e;return s===i});if(l>-1){t.splice(l,1);let s=e.parameters.slice();l<s.length&&(s[l]=a.parameters[l]),e.propertiesToCompare=t,e.parameters=s}},resetAllData:()=>a,setComparisonDataFromResponse:(e,s)=>{var i,t,l;let{payload:n}=s;e.assumptions=(null==n?void 0:null===(i=n.assumptions)||void 0===i?void 0:i.length)?n.assumptions:a.assumptions.slice(),e.detailedExpenses=(null==n?void 0:null===(t=n.detailedExpenses)||void 0===t?void 0:t.length)?n.detailedExpenses:null==a?void 0:a.detailedExpenses.slice(),e.options=(null==n?void 0:null===(l=n.options)||void 0===l?void 0:l.length)?n.options:a.options.slice()},updateParameterValues:(e,s)=>{let{payload:i}=s;e.parameters=i},setBenchmark:(e,s)=>{let{payload:{index:i,metricFieldName:t,value:a}}=s;if(e.initialBenchmark){let s=[...e.initialBenchmark[t]];s[i]=a,e.initialBenchmark[t]=s}},resetBenchmark:(e,s)=>{let{payload:i}=s;e.parameters=i},resetPropertiesToCompare:e=>{e.propertiesToCompare=[]}}}),n=l.actions,r=l.reducer},34008:function(e,s,i){"use strict";i.d(s,{K$:function(){return n},s6:function(){return r},uE:function(){return l}});var t=i(98864);let a=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.i;return"https://wa.me/".concat(s,"?text=").concat(e)},l=function(){var e;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Hi Prop-AI Team, I have the following questions:",i=arguments.length>1?arguments[1]:void 0,l=t.i;if(i&&"string"==typeof i&&(l=i.trim().replace("+","")),null===(e=window)||void 0===e?void 0:e.open){let e=a(s,l);window.open(e,"_blank")}},n=e=>{var s;let{subject:i="",body:a="",email:l=t.W}=e,n=encodeURIComponent(l),r=encodeURIComponent(i),o=encodeURIComponent(a),c="mailto:".concat(n,"?");i&&(c+="subject=".concat(r)),a&&(c+="&body=".concat(o)),(null===(s=window)||void 0===s?void 0:s.open)&&window.open(c,"_blank")},r=()=>{var e;(null===(e=window)||void 0===e?void 0:e.open)&&window.open("https://calendly.com/prop-ai/intro","_blank")}},32208:function(e,s,i){"use strict";i.d(s,{I:function(){return r}});var t=i(57685),a=i.n(t),l=i(50309),n=i.n(l);let r=e=>(null==e?void 0:e.length)?a()(n()(e.split(" ")[0])):""},89506:function(){},36281:function(){},86659:function(){},89526:function(){},54052:function(){},82808:function(){},89900:function(){},21513:function(){},76639:function(){},46350:function(){},59869:function(){},62799:function(){},18582:function(){},3589:function(){},57054:function(){},94081:function(){},24388:function(){},88350:function(){},58152:function(){},68069:function(){},46410:function(){},52216:function(){},86328:function(){},14686:function(){},25454:function(){},48937:function(){},24508:function(){},63450:function(){},65304:function(){},14006:function(){},71872:function(){},72763:function(){},11396:function(){},69778:function(){},51624:function(){},63210:function(){},50617:function(){},70990:function(){},34607:function(){},32462:function(){},22619:function(){},98490:function(){},82594:function(){},70742:function(){}},function(e){e.O(0,[9834,1126,1723,2716,9954,748,5130,1885,9018,9062,54,8219,8170,3089,574,482,1773,1241,1204,9510,4537,6555,6490,1484,543,1866,7674,1910,5878,429,7256,6979,3448,4576,6406,3542,4422,7916,9564,8642,7185,7555,2370,4436,97,1245,2259,9766,2971,2117,1744],function(){return e(e.s=60797)}),_N_E=e.O()}]);