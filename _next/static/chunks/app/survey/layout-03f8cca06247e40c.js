(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5842],{87857:function(e,t,r){Promise.resolve().then(r.bind(r,51320))},99376:function(e,t,r){"use strict";var n=r(35475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},51320:function(e,t,r){"use strict";r.d(t,{Z:function(){return d},default:function(){return f}});var n=r(57437),a=r(2265),i=r(33775),s=r(99376),o=r(60097),u=r(11509);let c=Object.values(i.UF),l={allSteps:[],dubaiDropdownLocations:[],isDubaiDropdownLocationsLoading:!1,topMasterCommunities:[],isTopMasterCommunitiesLoading:!1,selectedSteps:[],activeStepIndex:null,isNextPermitted:!1,isPreviousPermitted:!1,surveyError:null,setSurveyError:()=>{},activeStepKey:i.UF.investmentStrategy,setActiveStepKey:()=>{},moveToNextStep:()=>{},moveToPreviousStep:()=>{},isMapActive:!1,setIsMapActive:()=>{},isMapDisabled:!1,setIsMapDisabled:()=>{},fetchTopMasterCommunitiesForSurveyData:async()=>{},submitOnboardingSurvey:async()=>{}},d=a.createContext(l);function f(e){let{children:t}=e,r=(0,u.b)(),f=(0,s.useSearchParams)().get("orderPreference"),[p,m]=a.useState(l.surveyError),[S,v]=a.useState(l.activeStepKey),[P,g]=a.useState(l.isMapActive),[h,y]=a.useState(l.isMapDisabled),{data:b,isLoading:L}=(0,o.En)({}),[C,{data:I,isLoading:E}]=(0,o.UR)(),[F]=(0,o.vt)(),M=a.useMemo(()=>{let e=c.slice();if(r){let t={[i.UF.authenticate]:!0,[i.UF.confirmOtp]:!0};e=e.filter(e=>!t[e])}if(f===i.HP.locationFirst){v(i.UF.preferredLocations),g(!0);let t=e.indexOf(i.UF.preferredLocations);t>-1&&(e.splice(t,1),e.unshift(i.UF.preferredLocations))}return e},[f,r]),D=async e=>{await C({userData:e})},O=async e=>{e&&await F({userData:e})},T=M.findIndex(e=>e===S),x=T>-1?T:null,N=null!==x&&M.length>0&&!!M[x+1],U=null!==x&&M.length>0&&!!M[x-1];return(0,n.jsx)(d.Provider,{value:{allSteps:c,dubaiDropdownLocations:b||[],isDubaiDropdownLocationsLoading:L,topMasterCommunities:I||[],isTopMasterCommunitiesLoading:E,selectedSteps:M,activeStepIndex:x,isNextPermitted:N,isPreviousPermitted:U,surveyError:p,activeStepKey:S,setSurveyError:m,setActiveStepKey:v,moveToNextStep:()=>{null!==T&&N&&v(M[T+1])},moveToPreviousStep:()=>{null!==T&&U&&v(M[T-1])},isMapActive:P,setIsMapActive:g,isMapDisabled:h,setIsMapDisabled:y,fetchTopMasterCommunitiesForSurveyData:D,submitOnboardingSurvey:O},children:t})}},33775:function(e,t,r){"use strict";var n,a,i,s,o,u,c,l,d,f,p;r.d(t,{HP:function(){return a},UF:function(){return n},WI:function(){return o},Zn:function(){return s},sS:function(){return i},uS:function(){return u}}),(c=n||(n={})).investmentStrategy="investmentStrategy",c.availableBudget="availableBudget",c.preferredLocations="preferredLocations",c.propertyPreferences="propertyPreferences",c.scoreAndLoadProperties="scoreAndLoadProperties",c.authenticate="authenticate",c.confirmOtp="confirmOtp",(a||(a={})).locationFirst="locationFirst",(l=i||(i={})).login="LOGIN",l.register="REGISTER",(d=s||(s={})).existing="FINISHED",d.offPlan="ACTIVE",d.pending="PENDING",d.notStarted="NOT_STARTED",(f=o||(o={})).rentalYield="rentalYield",f.priceChangeYoy="priceChangeYoy",f.rentChangeYoy="rentChangeYoy",f.fmvSpread="fmvSpread",f.serviceChargesSqft="serviceChargesSqft",f.numberOfListings="numberOfListings",f.salesPriceMedianP6m="salesPriceMedianP6m",f.pricePerSqftP6m="pricePerSqftP6m",f.totalRentContractsP12m="totalRentContractsP12m",f.totalSalesP12m="totalSalesP12m",(p=u||(u={})).apartment="Apartment",p.villa="Villa"},11509:function(e,t,r){"use strict";r.d(t,{b:function(){return o},x:function(){return u}});var n=r(2265),a=r(50452),i=r(49567),s=r(60097);let o=()=>{let{isLoggedIn:e}=(0,i.v9)(e=>e.auth),[t,r]=n.useState(!1);return n.useEffect(()=>{localStorage.getItem(a.LI)?r(!0):r(!1)},[e]),t},u=()=>{let e=null,t=o(),{data:r}=(0,s.UV)({},{skip:!t});return r&&(e=r),e}}},function(e){e.O(0,[429,4436,97,2971,2117,1744],function(){return e(e.s=87857)}),_N_E=e.O()}]);